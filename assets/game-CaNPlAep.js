import{g as Bi}from"./vendor-B--z-fyW.js";var tn,yr;function Fi(){return yr||(yr=1,tn=function(i,e,n){if(i==null||e==null)return i;var o=String(i),a=typeof e=="number"?e:parseInt(e,10);if(isNaN(a)||!isFinite(a))return o;var _=o.length;if(_>=a)return o;var d=n==null?"":String(n);d===""&&(d=" ");for(var A=a-_;d.length<A;)d+=d;var S=d.length>A?d.substr(0,A):d;return o+S}),tn}var Ui=Fi();const en=Bi(Ui);var et=9e15,_e=(function(){for(var i=[],e=-323;e<=308;e++)i.push(+("1e"+e));return function(n){return i[n+323]}})(),w=function(i){return i instanceof Nt?i:new Nt(i)},G=function(i,e){return new Nt().fromMantissaExponent(i,e)},At=function(i,e){return new Nt().fromMantissaExponent_noNormalize(i,e)};function Hi(i,e,n,o){var a=e.mul(n.pow(o));return Nt.floor(i.div(a).mul(n.sub(1)).add(1).log10()/n.log10())}function qi(i,e,n,o){return e.mul(n.pow(o)).mul(Nt.sub(1,n.pow(i))).div(Nt.sub(1,n))}var Nt=(function(){function i(e){this.mantissa=NaN,this.exponent=NaN,e===void 0?(this.m=0,this.e=0):e instanceof i?this.fromDecimal(e):typeof e=="number"?this.fromNumber(e):this.fromString(e)}return Object.defineProperty(i.prototype,"m",{get:function(){return this.mantissa},set:function(e){this.mantissa=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"e",{get:function(){return this.exponent},set:function(e){this.exponent=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"s",{get:function(){return this.sign()},set:function(e){if(e===0)return this.e=0,void(this.m=0);this.sgn()!==e&&(this.m=-this.m)},enumerable:!1,configurable:!0}),i.fromMantissaExponent=function(e,n){return new i().fromMantissaExponent(e,n)},i.fromMantissaExponent_noNormalize=function(e,n){return new i().fromMantissaExponent_noNormalize(e,n)},i.fromDecimal=function(e){return new i().fromDecimal(e)},i.fromNumber=function(e){return new i().fromNumber(e)},i.fromString=function(e){return new i().fromString(e)},i.fromValue=function(e){return new i().fromValue(e)},i.fromValue_noAlloc=function(e){return e instanceof i?e:new i(e)},i.abs=function(e){return w(e).abs()},i.neg=function(e){return w(e).neg()},i.negate=function(e){return w(e).neg()},i.negated=function(e){return w(e).neg()},i.sign=function(e){return w(e).sign()},i.sgn=function(e){return w(e).sign()},i.round=function(e){return w(e).round()},i.floor=function(e){return w(e).floor()},i.ceil=function(e){return w(e).ceil()},i.trunc=function(e){return w(e).trunc()},i.add=function(e,n){return w(e).add(n)},i.plus=function(e,n){return w(e).add(n)},i.sub=function(e,n){return w(e).sub(n)},i.subtract=function(e,n){return w(e).sub(n)},i.minus=function(e,n){return w(e).sub(n)},i.mul=function(e,n){return w(e).mul(n)},i.multiply=function(e,n){return w(e).mul(n)},i.times=function(e,n){return w(e).mul(n)},i.div=function(e,n){return w(e).div(n)},i.divide=function(e,n){return w(e).div(n)},i.recip=function(e){return w(e).recip()},i.reciprocal=function(e){return w(e).recip()},i.reciprocate=function(e){return w(e).reciprocate()},i.cmp=function(e,n){return w(e).cmp(n)},i.compare=function(e,n){return w(e).cmp(n)},i.eq=function(e,n){return w(e).eq(n)},i.equals=function(e,n){return w(e).eq(n)},i.neq=function(e,n){return w(e).neq(n)},i.notEquals=function(e,n){return w(e).notEquals(n)},i.lt=function(e,n){return w(e).lt(n)},i.lte=function(e,n){return w(e).lte(n)},i.gt=function(e,n){return w(e).gt(n)},i.gte=function(e,n){return w(e).gte(n)},i.max=function(e,n){return w(e).max(n)},i.min=function(e,n){return w(e).min(n)},i.clamp=function(e,n,o){return w(e).clamp(n,o)},i.clampMin=function(e,n){return w(e).clampMin(n)},i.clampMax=function(e,n){return w(e).clampMax(n)},i.cmp_tolerance=function(e,n,o){return w(e).cmp_tolerance(n,o)},i.compare_tolerance=function(e,n,o){return w(e).cmp_tolerance(n,o)},i.eq_tolerance=function(e,n,o){return w(e).eq_tolerance(n,o)},i.equals_tolerance=function(e,n,o){return w(e).eq_tolerance(n,o)},i.neq_tolerance=function(e,n,o){return w(e).neq_tolerance(n,o)},i.notEquals_tolerance=function(e,n,o){return w(e).notEquals_tolerance(n,o)},i.lt_tolerance=function(e,n,o){return w(e).lt_tolerance(n,o)},i.lte_tolerance=function(e,n,o){return w(e).lte_tolerance(n,o)},i.gt_tolerance=function(e,n,o){return w(e).gt_tolerance(n,o)},i.gte_tolerance=function(e,n,o){return w(e).gte_tolerance(n,o)},i.log10=function(e){return w(e).log10()},i.absLog10=function(e){return w(e).absLog10()},i.pLog10=function(e){return w(e).pLog10()},i.log=function(e,n){return w(e).log(n)},i.log2=function(e){return w(e).log2()},i.ln=function(e){return w(e).ln()},i.logarithm=function(e,n){return w(e).logarithm(n)},i.pow10=function(e){return Number.isInteger(e)?At(1,e):G(Math.pow(10,e%1),Math.trunc(e))},i.pow=function(e,n){return typeof e=="number"&&e===10&&typeof n=="number"&&Number.isInteger(n)?At(1,n):w(e).pow(n)},i.exp=function(e){return w(e).exp()},i.sqr=function(e){return w(e).sqr()},i.sqrt=function(e){return w(e).sqrt()},i.cube=function(e){return w(e).cube()},i.cbrt=function(e){return w(e).cbrt()},i.dp=function(e){return w(e).dp()},i.decimalPlaces=function(e){return w(e).dp()},i.affordGeometricSeries=function(e,n,o,a){return Hi(w(e),w(n),w(o),a)},i.sumGeometricSeries=function(e,n,o,a){return qi(e,w(n),w(o),a)},i.affordArithmeticSeries=function(e,n,o,a){return(function(_,d,A,S){var b=d.add(S.mul(A)).sub(A.div(2)),k=b.pow(2);return b.neg().add(k.add(A.mul(_).mul(2)).sqrt()).div(A).floor()})(w(e),w(n),w(o),w(a))},i.sumArithmeticSeries=function(e,n,o,a){return(function(_,d,A,S){var b=d.add(S.mul(A));return _.div(2).mul(b.mul(2).plus(_.sub(1).mul(A)))})(w(e),w(n),w(o),w(a))},i.efficiencyOfPurchase=function(e,n,o){return(function(a,_,d){return a.div(_).add(a.div(d))})(w(e),w(n),w(o))},i.randomDecimalForTesting=function(e){if(20*Math.random()<1)return At(0,0);var n=10*Math.random();10*Math.random()<1&&(n=Math.round(n)),n*=Math.sign(2*Math.random()-1);var o=Math.floor(Math.random()*e*2)-e;return G(n,o)},i.prototype.normalize=function(){if(this.m>=1&&this.m<10)return this;if(this.m===0)return this.m=0,this.e=0,this;var e=Math.floor(Math.log10(Math.abs(this.m)));return this.m=e===-324?10*this.m/1e-323:this.m/_e(e),this.e+=e,this},i.prototype.fromMantissaExponent=function(e,n){return isFinite(e)&&isFinite(n)?(this.m=e,this.e=n,this.normalize(),this):(e=Number.NaN,n=Number.NaN,this)},i.prototype.fromMantissaExponent_noNormalize=function(e,n){return this.m=e,this.e=n,this},i.prototype.fromDecimal=function(e){return this.m=e.m,this.e=e.e,this},i.prototype.fromNumber=function(e){return isNaN(e)?(this.m=Number.NaN,this.e=Number.NaN):e===Number.POSITIVE_INFINITY?(this.m=1,this.e=et):e===Number.NEGATIVE_INFINITY?(this.m=-1,this.e=et):e===0?(this.m=0,this.e=0):(this.e=Math.floor(Math.log10(Math.abs(e))),this.m=this.e===-324?10*e/1e-323:e/_e(this.e),this.normalize()),this},i.prototype.fromString=function(e){if(e.indexOf("e")!==-1){var n=e.split("e");this.m=parseFloat(n[0]),this.e=parseFloat(n[1]),this.normalize()}else if(e==="NaN")this.m=Number.NaN,this.e=Number.NaN;else if(this.fromNumber(parseFloat(e)),isNaN(this.m))throw Error("[DecimalError] Invalid argument: "+e);return this},i.prototype.fromValue=function(e){return e instanceof i?this.fromDecimal(e):typeof e=="number"?this.fromNumber(e):typeof e=="string"?this.fromString(e):(this.m=0,this.e=0,this)},i.prototype.toNumber=function(){if(!isFinite(this.e))return Number.NaN;if(this.e>308)return this.m>0?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY;if(this.e<-324)return 0;if(this.e===-324)return this.m>0?5e-324:-5e-324;var e=this.m*_e(this.e);if(!isFinite(e)||this.e<0)return e;var n=Math.round(e);return Math.abs(n-e)<1e-10?n:e},i.prototype.mantissaWithDecimalPlaces=function(e){if(isNaN(this.m)||isNaN(this.e))return Number.NaN;if(this.m===0)return 0;var n=e+1,o=Math.ceil(Math.log10(Math.abs(this.m))),a=Math.round(this.m*Math.pow(10,n-o))*Math.pow(10,o-n);return parseFloat(a.toFixed(Math.max(n-o,0)))},i.prototype.toString=function(){return isNaN(this.m)||isNaN(this.e)?"NaN":this.e>=et?this.m>0?"Infinity":"-Infinity":this.e<=-et||this.m===0?"0":this.e<21&&this.e>-7?this.toNumber().toString():this.m+"e"+(this.e>=0?"+":"")+this.e},i.prototype.toExponential=function(e){if(isNaN(this.m)||isNaN(this.e))return"NaN";if(this.e>=et)return this.m>0?"Infinity":"-Infinity";if(this.e<=-et||this.m===0)return"0"+(e>0?en(".",e+1,"0"):"")+"e+0";if(this.e>-324&&this.e<308)return this.toNumber().toExponential(e);isFinite(e)||(e=17);var n=e+1,o=Math.max(1,Math.ceil(Math.log10(Math.abs(this.m))));return(Math.round(this.m*Math.pow(10,n-o))*Math.pow(10,o-n)).toFixed(Math.max(n-o,0))+"e"+(this.e>=0?"+":"")+this.e},i.prototype.toFixed=function(e){return isNaN(this.m)||isNaN(this.e)?"NaN":this.e>=et?this.m>0?"Infinity":"-Infinity":this.e<=-et||this.m===0?"0"+(e>0?en(".",e+1,"0"):""):this.e>=17?this.m.toString().replace(".","").padEnd(this.e+1,"0")+(e>0?en(".",e+1,"0"):""):this.toNumber().toFixed(e)},i.prototype.toPrecision=function(e){return this.e<=-7?this.toExponential(e-1):e>this.e?this.toFixed(e-this.e-1):this.toExponential(e-1)},i.prototype.valueOf=function(){return this.toString()},i.prototype.toJSON=function(){return this.toString()},i.prototype.toStringWithDecimalPlaces=function(e){return this.toExponential(e)},i.prototype.abs=function(){return At(Math.abs(this.m),this.e)},i.prototype.neg=function(){return At(-this.m,this.e)},i.prototype.negate=function(){return this.neg()},i.prototype.negated=function(){return this.neg()},i.prototype.sign=function(){return Math.sign(this.m)},i.prototype.sgn=function(){return this.sign()},i.prototype.round=function(){return this.e<-1?new i(0):this.e<17?new i(Math.round(this.toNumber())):this},i.prototype.floor=function(){return this.e<-1?Math.sign(this.m)>=0?new i(0):new i(-1):this.e<17?new i(Math.floor(this.toNumber())):this},i.prototype.ceil=function(){return this.e<-1?Math.sign(this.m)>0?new i(1):new i(0):this.e<17?new i(Math.ceil(this.toNumber())):this},i.prototype.trunc=function(){return this.e<0?new i(0):this.e<17?new i(Math.trunc(this.toNumber())):this},i.prototype.add=function(e){var n,o,a=w(e);if(this.m===0)return a;if(a.m===0)return this;if(this.e>=a.e?(n=this,o=a):(n=a,o=this),n.e-o.e>17)return n;var _=Math.round(1e14*n.m+1e14*o.m*_e(o.e-n.e));return G(_,n.e-14)},i.prototype.plus=function(e){return this.add(e)},i.prototype.sub=function(e){return this.add(w(e).neg())},i.prototype.subtract=function(e){return this.sub(e)},i.prototype.minus=function(e){return this.sub(e)},i.prototype.mul=function(e){if(typeof e=="number")return e<1e307&&e>-1e307?G(this.m*e,this.e):G(1e-307*this.m*e,this.e+307);var n=typeof e=="string"?new i(e):e;return G(this.m*n.m,this.e+n.e)},i.prototype.multiply=function(e){return this.mul(e)},i.prototype.times=function(e){return this.mul(e)},i.prototype.div=function(e){return this.mul(w(e).recip())},i.prototype.divide=function(e){return this.div(e)},i.prototype.divideBy=function(e){return this.div(e)},i.prototype.dividedBy=function(e){return this.div(e)},i.prototype.recip=function(){return G(1/this.m,-this.e)},i.prototype.reciprocal=function(){return this.recip()},i.prototype.reciprocate=function(){return this.recip()},i.prototype.cmp=function(e){var n=w(e);if(this.m===0){if(n.m===0)return 0;if(n.m<0)return 1;if(n.m>0)return-1}if(n.m===0){if(this.m<0)return-1;if(this.m>0)return 1}if(this.m>0)return n.m<0||this.e>n.e?1:this.e<n.e?-1:this.m>n.m?1:this.m<n.m?-1:0;if(this.m<0)return n.m>0||this.e>n.e?-1:this.e<n.e||this.m>n.m?1:this.m<n.m?-1:0;throw Error("Unreachable code")},i.prototype.compare=function(e){return this.cmp(e)},i.prototype.eq=function(e){var n=w(e);return this.e===n.e&&this.m===n.m},i.prototype.equals=function(e){return this.eq(e)},i.prototype.neq=function(e){return!this.eq(e)},i.prototype.notEquals=function(e){return this.neq(e)},i.prototype.lt=function(e){var n=w(e);return this.m===0?n.m>0:n.m===0?this.m<=0:this.e===n.e?this.m<n.m:this.m>0?n.m>0&&this.e<n.e:n.m>0||this.e>n.e},i.prototype.lte=function(e){return!this.gt(e)},i.prototype.gt=function(e){var n=w(e);return this.m===0?n.m<0:n.m===0?this.m>0:this.e===n.e?this.m>n.m:this.m>0?n.m<0||this.e>n.e:n.m<0&&this.e<n.e},i.prototype.gte=function(e){return!this.lt(e)},i.prototype.max=function(e){var n=w(e);return this.lt(n)?n:this},i.prototype.min=function(e){var n=w(e);return this.gt(n)?n:this},i.prototype.clamp=function(e,n){return this.max(e).min(n)},i.prototype.clampMin=function(e){return this.max(e)},i.prototype.clampMax=function(e){return this.min(e)},i.prototype.cmp_tolerance=function(e,n){var o=w(e);return this.eq_tolerance(o,n)?0:this.cmp(o)},i.prototype.compare_tolerance=function(e,n){return this.cmp_tolerance(e,n)},i.prototype.eq_tolerance=function(e,n){var o=w(e);return i.lte(this.sub(o).abs(),i.max(this.abs(),o.abs()).mul(n))},i.prototype.equals_tolerance=function(e,n){return this.eq_tolerance(e,n)},i.prototype.neq_tolerance=function(e,n){return!this.eq_tolerance(e,n)},i.prototype.notEquals_tolerance=function(e,n){return this.neq_tolerance(e,n)},i.prototype.lt_tolerance=function(e,n){var o=w(e);return!this.eq_tolerance(o,n)&&this.lt(o)},i.prototype.lte_tolerance=function(e,n){var o=w(e);return this.eq_tolerance(o,n)||this.lt(o)},i.prototype.gt_tolerance=function(e,n){var o=w(e);return!this.eq_tolerance(o,n)&&this.gt(o)},i.prototype.gte_tolerance=function(e,n){var o=w(e);return this.eq_tolerance(o,n)||this.gt(o)},i.prototype.log10=function(){return this.e+Math.log10(this.m)},i.prototype.absLog10=function(){return this.e+Math.log10(Math.abs(this.m))},i.prototype.pLog10=function(){return this.m<=0||this.e<0?0:this.log10()},i.prototype.log=function(e){return Math.LN10/Math.log(e)*this.log10()},i.prototype.log2=function(){return 3.321928094887362*this.log10()},i.prototype.ln=function(){return 2.302585092994045*this.log10()},i.prototype.logarithm=function(e){return this.log(e)},i.prototype.pow=function(e){var n,o=e instanceof i?e.toNumber():e,a=this.e*o;if(Number.isSafeInteger(a)&&(n=Math.pow(this.m,o),isFinite(n)&&n!==0))return G(n,a);var _=Math.trunc(a),d=a-_;if(n=Math.pow(10,o*Math.log10(this.m)+d),isFinite(n)&&n!==0)return G(n,_);var A=i.pow10(o*this.absLog10());return this.sign()===-1?Math.abs(o%2)===1?A.neg():Math.abs(o%2)===0?A:new i(Number.NaN):A},i.prototype.pow_base=function(e){return w(e).pow(this)},i.prototype.factorial=function(){var e=this.toNumber()+1;return i.pow(e/Math.E*Math.sqrt(e*Math.sinh(1/e)+1/(810*Math.pow(e,6))),e).mul(Math.sqrt(2*Math.PI/e))},i.prototype.exp=function(){var e=this.toNumber();return-706<e&&e<709?i.fromNumber(Math.exp(e)):i.pow(Math.E,e)},i.prototype.sqr=function(){return G(Math.pow(this.m,2),2*this.e)},i.prototype.sqrt=function(){return this.m<0?new i(Number.NaN):this.e%2!=0?G(3.16227766016838*Math.sqrt(this.m),Math.floor(this.e/2)):G(Math.sqrt(this.m),Math.floor(this.e/2))},i.prototype.cube=function(){return G(Math.pow(this.m,3),3*this.e)},i.prototype.cbrt=function(){var e=1,n=this.m;n<0&&(e=-1,n=-n);var o=e*Math.pow(n,1/3),a=this.e%3;return G(a===1||a===-1?2.154434690031883*o:a!==0?4.641588833612778*o:o,Math.floor(this.e/3))},i.prototype.sinh=function(){return this.exp().sub(this.negate().exp()).div(2)},i.prototype.cosh=function(){return this.exp().add(this.negate().exp()).div(2)},i.prototype.tanh=function(){return this.sinh().div(this.cosh())},i.prototype.asinh=function(){return i.ln(this.add(this.sqr().add(1).sqrt()))},i.prototype.acosh=function(){return i.ln(this.add(this.sqr().sub(1).sqrt()))},i.prototype.atanh=function(){return this.abs().gte(1)?Number.NaN:i.ln(this.add(1).div(new i(1).sub(this)))/2},i.prototype.ascensionPenalty=function(e){return e===0?this:this.pow(Math.pow(10,-e))},i.prototype.egg=function(){return this.add(9)},i.prototype.lessThanOrEqualTo=function(e){return this.cmp(e)<1},i.prototype.lessThan=function(e){return this.cmp(e)<0},i.prototype.greaterThanOrEqualTo=function(e){return this.cmp(e)>-1},i.prototype.greaterThan=function(e){return this.cmp(e)>0},i.prototype.decimalPlaces=function(){return this.dp()},i.prototype.dp=function(){if(!isFinite(this.mantissa))return NaN;if(this.exponent>=17)return 0;for(var e=this.mantissa,n=-this.exponent,o=1;Math.abs(Math.round(e*o)/o-e)>1e-10;)o*=10,n++;return n>0?n:0},Object.defineProperty(i,"MAX_VALUE",{get:function(){return $i},enumerable:!1,configurable:!0}),Object.defineProperty(i,"MIN_VALUE",{get:function(){return Gi},enumerable:!1,configurable:!0}),Object.defineProperty(i,"NUMBER_MAX_VALUE",{get:function(){return Wi},enumerable:!1,configurable:!0}),Object.defineProperty(i,"NUMBER_MIN_VALUE",{get:function(){return Xi},enumerable:!1,configurable:!0}),i})(),$i=At(1,et),Gi=At(1,-et),Wi=w(Number.MAX_VALUE),Xi=w(Number.MIN_VALUE);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr=function(i){const e=[];let n=0;for(let o=0;o<i.length;o++){let a=i.charCodeAt(o);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&o+1<i.length&&(i.charCodeAt(o+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++o)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},zi=function(i){const e=[];let n=0,o=0;for(;n<i.length;){const a=i[n++];if(a<128)e[o++]=String.fromCharCode(a);else if(a>191&&a<224){const _=i[n++];e[o++]=String.fromCharCode((a&31)<<6|_&63)}else if(a>239&&a<365){const _=i[n++],d=i[n++],A=i[n++],S=((a&7)<<18|(_&63)<<12|(d&63)<<6|A&63)-65536;e[o++]=String.fromCharCode(55296+(S>>10)),e[o++]=String.fromCharCode(56320+(S&1023))}else{const _=i[n++],d=i[n++];e[o++]=String.fromCharCode((a&15)<<12|(_&63)<<6|d&63)}}return e.join("")},Ji={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let a=0;a<i.length;a+=3){const _=i[a],d=a+1<i.length,A=d?i[a+1]:0,S=a+2<i.length,b=S?i[a+2]:0,k=_>>2,M=(_&3)<<4|A>>4;let Q=(A&15)<<2|b>>6,J=b&63;S||(J=64,d||(Q=64)),o.push(n[k],n[M],n[Q],n[J])}return o.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Gr(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):zi(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let a=0;a<i.length;){const _=n[i.charAt(a++)],A=a<i.length?n[i.charAt(a)]:0;++a;const b=a<i.length?n[i.charAt(a)]:64;++a;const M=a<i.length?n[i.charAt(a)]:64;if(++a,_==null||A==null||b==null||M==null)throw new Ki;const Q=_<<2|A>>4;if(o.push(Q),b!==64){const J=A<<4&240|b>>2;if(o.push(J),M!==64){const H=b<<6&192|M;o.push(H)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Ki extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Yi=function(i){const e=Gr(i);return Ji.encodeByteArray(e,!0)},Wr=function(i){return Yi(i).replace(/\./g,"")};function Qi(){try{return typeof indexedDB=="object"}catch{return!1}}function Zi(){return new Promise((i,e)=>{try{let n=!0;const o="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(o);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(o),i(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var _;e(((_=a.error)==null?void 0:_.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts="FirebaseError";class kt extends Error{constructor(e,n,o){super(n),this.code=e,this.customData=o,this.name=ts,Object.setPrototypeOf(this,kt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xr.prototype.create)}}class Xr{constructor(e,n,o){this.service=e,this.serviceName=n,this.errors=o}create(e,...n){const o=n[0]||{},a=`${this.service}/${e}`,_=this.errors[e],d=_?es(_,o):"Error",A=`${this.serviceName}: ${d} (${a}).`;return new kt(a,A,o)}}function es(i,e){return i.replace(ns,(n,o)=>{const a=e[o];return a!=null?String(a):`<${o}?>`})}const ns=/\{\$([^}]+)}/g;class Ae{constructor(e,n,o){this.name=e,this.instanceFactory=n,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var C;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(C||(C={}));const rs={debug:C.DEBUG,verbose:C.VERBOSE,info:C.INFO,warn:C.WARN,error:C.ERROR,silent:C.SILENT},is=C.INFO,ss={[C.DEBUG]:"log",[C.VERBOSE]:"log",[C.INFO]:"info",[C.WARN]:"warn",[C.ERROR]:"error"},os=(i,e,...n)=>{if(e<i.logLevel)return;const o=new Date().toISOString(),a=ss[e];if(a)console[a](`[${o}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zr{constructor(e){this.name=e,this._logLevel=is,this._logHandler=os,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in C))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rs[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,C.DEBUG,...e),this._logHandler(this,C.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,C.VERBOSE,...e),this._logHandler(this,C.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,C.INFO,...e),this._logHandler(this,C.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,C.WARN,...e),this._logHandler(this,C.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,C.ERROR,...e),this._logHandler(this,C.ERROR,...e)}}const hs=(i,e)=>e.some(n=>i instanceof n);let _r,vr;function as(){return _r||(_r=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function us(){return vr||(vr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Jr=new WeakMap,un=new WeakMap,Kr=new WeakMap,nn=new WeakMap,fn=new WeakMap;function ls(i){const e=new Promise((n,o)=>{const a=()=>{i.removeEventListener("success",_),i.removeEventListener("error",d)},_=()=>{n(dt(i.result)),a()},d=()=>{o(i.error),a()};i.addEventListener("success",_),i.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&Jr.set(n,i)}).catch(()=>{}),fn.set(e,i),e}function cs(i){if(un.has(i))return;const e=new Promise((n,o)=>{const a=()=>{i.removeEventListener("complete",_),i.removeEventListener("error",d),i.removeEventListener("abort",d)},_=()=>{n(),a()},d=()=>{o(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",_),i.addEventListener("error",d),i.addEventListener("abort",d)});un.set(i,e)}let ln={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return un.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Kr.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return dt(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function fs(i){ln=i(ln)}function ps(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const o=i.call(rn(this),e,...n);return Kr.set(o,e.sort?e.sort():[e]),dt(o)}:us().includes(i)?function(...e){return i.apply(rn(this),e),dt(Jr.get(this))}:function(...e){return dt(i.apply(rn(this),e))}}function gs(i){return typeof i=="function"?ps(i):(i instanceof IDBTransaction&&cs(i),hs(i,as())?new Proxy(i,ln):i)}function dt(i){if(i instanceof IDBRequest)return ls(i);if(nn.has(i))return nn.get(i);const e=gs(i);return e!==i&&(nn.set(i,e),fn.set(e,i)),e}const rn=i=>fn.get(i);function ds(i,e,{blocked:n,upgrade:o,blocking:a,terminated:_}={}){const d=indexedDB.open(i,e),A=dt(d);return o&&d.addEventListener("upgradeneeded",S=>{o(dt(d.result),S.oldVersion,S.newVersion,dt(d.transaction),S)}),n&&d.addEventListener("blocked",S=>n(S.oldVersion,S.newVersion,S)),A.then(S=>{_&&S.addEventListener("close",()=>_()),a&&S.addEventListener("versionchange",b=>a(b.oldVersion,b.newVersion,b))}).catch(()=>{}),A}const ms=["get","getKey","getAll","getAllKeys","count"],ys=["put","add","delete","clear"],sn=new Map;function wr(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(sn.get(e))return sn.get(e);const n=e.replace(/FromIndex$/,""),o=e!==n,a=ys.includes(n);if(!(n in(o?IDBIndex:IDBObjectStore).prototype)||!(a||ms.includes(n)))return;const _=async function(d,...A){const S=this.transaction(d,a?"readwrite":"readonly");let b=S.store;return o&&(b=b.index(A.shift())),(await Promise.all([b[n](...A),a&&S.done]))[0]};return sn.set(e,_),_}fs(i=>({...i,get:(e,n,o)=>wr(e,n)||i.get(e,n,o),has:(e,n)=>!!wr(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vs(n)){const o=n.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(n=>n).join(" ")}}function vs(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const cn="@firebase/app",Er="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ot=new zr("@firebase/app"),ws="@firebase/app-compat",Es="@firebase/analytics-compat",As="@firebase/analytics",Ss="@firebase/app-check-compat",bs="@firebase/app-check",Ts="@firebase/auth",Is="@firebase/auth-compat",Ns="@firebase/database",Ds="@firebase/data-connect",Ms="@firebase/database-compat",Ps="@firebase/functions",Cs="@firebase/functions-compat",Rs="@firebase/installations",Os="@firebase/installations-compat",xs="@firebase/messaging",Ls="@firebase/messaging-compat",Vs="@firebase/performance",js="@firebase/performance-compat",ks="@firebase/remote-config",Bs="@firebase/remote-config-compat",Fs="@firebase/storage",Us="@firebase/storage-compat",Hs="@firebase/firestore",qs="@firebase/ai",$s="@firebase/firestore-compat",Gs="firebase",Ws="12.6.0",Xs={[cn]:"fire-core",[ws]:"fire-core-compat",[As]:"fire-analytics",[Es]:"fire-analytics-compat",[bs]:"fire-app-check",[Ss]:"fire-app-check-compat",[Ts]:"fire-auth",[Is]:"fire-auth-compat",[Ns]:"fire-rtdb",[Ds]:"fire-data-connect",[Ms]:"fire-rtdb-compat",[Ps]:"fire-fn",[Cs]:"fire-fn-compat",[Rs]:"fire-iid",[Os]:"fire-iid-compat",[xs]:"fire-fcm",[Ls]:"fire-fcm-compat",[Vs]:"fire-perf",[js]:"fire-perf-compat",[ks]:"fire-rc",[Bs]:"fire-rc-compat",[Fs]:"fire-gcs",[Us]:"fire-gcs-compat",[Hs]:"fire-fst",[$s]:"fire-fst-compat",[qs]:"fire-vertex","fire-js":"fire-js",[Gs]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs=new Map,Js=new Map,Ar=new Map;function Sr(i,e){try{i.container.addComponent(e)}catch(n){ot.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Se(i){const e=i.name;if(Ar.has(e))return ot.debug(`There were multiple attempts to register component ${e}.`),!1;Ar.set(e,i);for(const n of zs.values())Sr(n,i);for(const n of Js.values())Sr(n,i);return!0}function Ks(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pn=new Xr("app","Firebase",Ys);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs=Ws;function Vt(i,e,n){let o=Xs[i]??i;n&&(o+=`-${n}`);const a=o.match(/\s|\//),_=e.match(/\s|\//);if(a||_){const d=[`Unable to register library "${o}" with version "${e}":`];a&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&_&&d.push("and"),_&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ot.warn(d.join(" "));return}Se(new Ae(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs="firebase-heartbeat-database",to=1,ie="firebase-heartbeat-store";let on=null;function Yr(){return on||(on=ds(Zs,to,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(ie)}catch(n){console.warn(n)}}}}).catch(i=>{throw pn.create("idb-open",{originalErrorMessage:i.message})})),on}async function eo(i){try{const n=(await Yr()).transaction(ie),o=await n.objectStore(ie).get(Qr(i));return await n.done,o}catch(e){if(e instanceof kt)ot.warn(e.message);else{const n=pn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ot.warn(n.message)}}}async function br(i,e){try{const o=(await Yr()).transaction(ie,"readwrite");await o.objectStore(ie).put(e,Qr(i)),await o.done}catch(n){if(n instanceof kt)ot.warn(n.message);else{const o=pn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ot.warn(o.message)}}}function Qr(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no=1024,ro=30;class io{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new oo(n),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),_=Tr();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===_||this._heartbeatsCache.heartbeats.some(d=>d.date===_))return;if(this._heartbeatsCache.heartbeats.push({date:_,agent:a}),this._heartbeatsCache.heartbeats.length>ro){const d=ho(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(o){ot.warn(o)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Tr(),{heartbeatsToSend:o,unsentEntries:a}=so(this._heartbeatsCache.heartbeats),_=Wr(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),_}catch(n){return ot.warn(n),""}}}function Tr(){return new Date().toISOString().substring(0,10)}function so(i,e=no){const n=[];let o=i.slice();for(const a of i){const _=n.find(d=>d.agent===a.agent);if(_){if(_.dates.push(a.date),Ir(n)>e){_.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Ir(n)>e){n.pop();break}o=o.slice(1)}return{heartbeatsToSend:n,unsentEntries:o}}class oo{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Qi()?Zi().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await eo(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const o=await this.read();return br(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const o=await this.read();return br(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Ir(i){return Wr(JSON.stringify({version:2,heartbeats:i})).length}function ho(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let o=1;o<i.length;o++)i[o].date<n&&(n=i[o].date,e=o);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ao(i){Se(new Ae("platform-logger",e=>new _s(e),"PRIVATE")),Se(new Ae("heartbeat",e=>new io(e),"PRIVATE")),Vt(cn,Er,i),Vt(cn,Er,"esm2020"),Vt("fire-js","")}ao("");var uo="firebase",lo="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vt(uo,lo,"app");var Nr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gn;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(p,u){function c(){}c.prototype=u.prototype,p.F=u.prototype,p.prototype=new c,p.prototype.constructor=p,p.D=function(g,f,y){for(var l=Array(arguments.length-2),$=2;$<arguments.length;$++)l[$-2]=arguments[$];return u.prototype[f].apply(g,l)}}function n(){this.blockSize=-1}function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(o,n),o.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(p,u,c){c||(c=0);const g=Array(16);if(typeof u=="string")for(var f=0;f<16;++f)g[f]=u.charCodeAt(c++)|u.charCodeAt(c++)<<8|u.charCodeAt(c++)<<16|u.charCodeAt(c++)<<24;else for(f=0;f<16;++f)g[f]=u[c++]|u[c++]<<8|u[c++]<<16|u[c++]<<24;u=p.g[0],c=p.g[1],f=p.g[2];let y=p.g[3],l;l=u+(y^c&(f^y))+g[0]+3614090360&4294967295,u=c+(l<<7&4294967295|l>>>25),l=y+(f^u&(c^f))+g[1]+3905402710&4294967295,y=u+(l<<12&4294967295|l>>>20),l=f+(c^y&(u^c))+g[2]+606105819&4294967295,f=y+(l<<17&4294967295|l>>>15),l=c+(u^f&(y^u))+g[3]+3250441966&4294967295,c=f+(l<<22&4294967295|l>>>10),l=u+(y^c&(f^y))+g[4]+4118548399&4294967295,u=c+(l<<7&4294967295|l>>>25),l=y+(f^u&(c^f))+g[5]+1200080426&4294967295,y=u+(l<<12&4294967295|l>>>20),l=f+(c^y&(u^c))+g[6]+2821735955&4294967295,f=y+(l<<17&4294967295|l>>>15),l=c+(u^f&(y^u))+g[7]+4249261313&4294967295,c=f+(l<<22&4294967295|l>>>10),l=u+(y^c&(f^y))+g[8]+1770035416&4294967295,u=c+(l<<7&4294967295|l>>>25),l=y+(f^u&(c^f))+g[9]+2336552879&4294967295,y=u+(l<<12&4294967295|l>>>20),l=f+(c^y&(u^c))+g[10]+4294925233&4294967295,f=y+(l<<17&4294967295|l>>>15),l=c+(u^f&(y^u))+g[11]+2304563134&4294967295,c=f+(l<<22&4294967295|l>>>10),l=u+(y^c&(f^y))+g[12]+1804603682&4294967295,u=c+(l<<7&4294967295|l>>>25),l=y+(f^u&(c^f))+g[13]+4254626195&4294967295,y=u+(l<<12&4294967295|l>>>20),l=f+(c^y&(u^c))+g[14]+2792965006&4294967295,f=y+(l<<17&4294967295|l>>>15),l=c+(u^f&(y^u))+g[15]+1236535329&4294967295,c=f+(l<<22&4294967295|l>>>10),l=u+(f^y&(c^f))+g[1]+4129170786&4294967295,u=c+(l<<5&4294967295|l>>>27),l=y+(c^f&(u^c))+g[6]+3225465664&4294967295,y=u+(l<<9&4294967295|l>>>23),l=f+(u^c&(y^u))+g[11]+643717713&4294967295,f=y+(l<<14&4294967295|l>>>18),l=c+(y^u&(f^y))+g[0]+3921069994&4294967295,c=f+(l<<20&4294967295|l>>>12),l=u+(f^y&(c^f))+g[5]+3593408605&4294967295,u=c+(l<<5&4294967295|l>>>27),l=y+(c^f&(u^c))+g[10]+38016083&4294967295,y=u+(l<<9&4294967295|l>>>23),l=f+(u^c&(y^u))+g[15]+3634488961&4294967295,f=y+(l<<14&4294967295|l>>>18),l=c+(y^u&(f^y))+g[4]+3889429448&4294967295,c=f+(l<<20&4294967295|l>>>12),l=u+(f^y&(c^f))+g[9]+568446438&4294967295,u=c+(l<<5&4294967295|l>>>27),l=y+(c^f&(u^c))+g[14]+3275163606&4294967295,y=u+(l<<9&4294967295|l>>>23),l=f+(u^c&(y^u))+g[3]+4107603335&4294967295,f=y+(l<<14&4294967295|l>>>18),l=c+(y^u&(f^y))+g[8]+1163531501&4294967295,c=f+(l<<20&4294967295|l>>>12),l=u+(f^y&(c^f))+g[13]+2850285829&4294967295,u=c+(l<<5&4294967295|l>>>27),l=y+(c^f&(u^c))+g[2]+4243563512&4294967295,y=u+(l<<9&4294967295|l>>>23),l=f+(u^c&(y^u))+g[7]+1735328473&4294967295,f=y+(l<<14&4294967295|l>>>18),l=c+(y^u&(f^y))+g[12]+2368359562&4294967295,c=f+(l<<20&4294967295|l>>>12),l=u+(c^f^y)+g[5]+4294588738&4294967295,u=c+(l<<4&4294967295|l>>>28),l=y+(u^c^f)+g[8]+2272392833&4294967295,y=u+(l<<11&4294967295|l>>>21),l=f+(y^u^c)+g[11]+1839030562&4294967295,f=y+(l<<16&4294967295|l>>>16),l=c+(f^y^u)+g[14]+4259657740&4294967295,c=f+(l<<23&4294967295|l>>>9),l=u+(c^f^y)+g[1]+2763975236&4294967295,u=c+(l<<4&4294967295|l>>>28),l=y+(u^c^f)+g[4]+1272893353&4294967295,y=u+(l<<11&4294967295|l>>>21),l=f+(y^u^c)+g[7]+4139469664&4294967295,f=y+(l<<16&4294967295|l>>>16),l=c+(f^y^u)+g[10]+3200236656&4294967295,c=f+(l<<23&4294967295|l>>>9),l=u+(c^f^y)+g[13]+681279174&4294967295,u=c+(l<<4&4294967295|l>>>28),l=y+(u^c^f)+g[0]+3936430074&4294967295,y=u+(l<<11&4294967295|l>>>21),l=f+(y^u^c)+g[3]+3572445317&4294967295,f=y+(l<<16&4294967295|l>>>16),l=c+(f^y^u)+g[6]+76029189&4294967295,c=f+(l<<23&4294967295|l>>>9),l=u+(c^f^y)+g[9]+3654602809&4294967295,u=c+(l<<4&4294967295|l>>>28),l=y+(u^c^f)+g[12]+3873151461&4294967295,y=u+(l<<11&4294967295|l>>>21),l=f+(y^u^c)+g[15]+530742520&4294967295,f=y+(l<<16&4294967295|l>>>16),l=c+(f^y^u)+g[2]+3299628645&4294967295,c=f+(l<<23&4294967295|l>>>9),l=u+(f^(c|~y))+g[0]+4096336452&4294967295,u=c+(l<<6&4294967295|l>>>26),l=y+(c^(u|~f))+g[7]+1126891415&4294967295,y=u+(l<<10&4294967295|l>>>22),l=f+(u^(y|~c))+g[14]+2878612391&4294967295,f=y+(l<<15&4294967295|l>>>17),l=c+(y^(f|~u))+g[5]+4237533241&4294967295,c=f+(l<<21&4294967295|l>>>11),l=u+(f^(c|~y))+g[12]+1700485571&4294967295,u=c+(l<<6&4294967295|l>>>26),l=y+(c^(u|~f))+g[3]+2399980690&4294967295,y=u+(l<<10&4294967295|l>>>22),l=f+(u^(y|~c))+g[10]+4293915773&4294967295,f=y+(l<<15&4294967295|l>>>17),l=c+(y^(f|~u))+g[1]+2240044497&4294967295,c=f+(l<<21&4294967295|l>>>11),l=u+(f^(c|~y))+g[8]+1873313359&4294967295,u=c+(l<<6&4294967295|l>>>26),l=y+(c^(u|~f))+g[15]+4264355552&4294967295,y=u+(l<<10&4294967295|l>>>22),l=f+(u^(y|~c))+g[6]+2734768916&4294967295,f=y+(l<<15&4294967295|l>>>17),l=c+(y^(f|~u))+g[13]+1309151649&4294967295,c=f+(l<<21&4294967295|l>>>11),l=u+(f^(c|~y))+g[4]+4149444226&4294967295,u=c+(l<<6&4294967295|l>>>26),l=y+(c^(u|~f))+g[11]+3174756917&4294967295,y=u+(l<<10&4294967295|l>>>22),l=f+(u^(y|~c))+g[2]+718787259&4294967295,f=y+(l<<15&4294967295|l>>>17),l=c+(y^(f|~u))+g[9]+3951481745&4294967295,p.g[0]=p.g[0]+u&4294967295,p.g[1]=p.g[1]+(f+(l<<21&4294967295|l>>>11))&4294967295,p.g[2]=p.g[2]+f&4294967295,p.g[3]=p.g[3]+y&4294967295}o.prototype.v=function(p,u){u===void 0&&(u=p.length);const c=u-this.blockSize,g=this.C;let f=this.h,y=0;for(;y<u;){if(f==0)for(;y<=c;)a(this,p,y),y+=this.blockSize;if(typeof p=="string"){for(;y<u;)if(g[f++]=p.charCodeAt(y++),f==this.blockSize){a(this,g),f=0;break}}else for(;y<u;)if(g[f++]=p[y++],f==this.blockSize){a(this,g),f=0;break}}this.h=f,this.o+=u},o.prototype.A=function(){var p=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);p[0]=128;for(var u=1;u<p.length-8;++u)p[u]=0;u=this.o*8;for(var c=p.length-8;c<p.length;++c)p[c]=u&255,u/=256;for(this.v(p),p=Array(16),u=0,c=0;c<4;++c)for(let g=0;g<32;g+=8)p[u++]=this.g[c]>>>g&255;return p};function _(p,u){var c=A;return Object.prototype.hasOwnProperty.call(c,p)?c[p]:c[p]=u(p)}function d(p,u){this.h=u;const c=[];let g=!0;for(let f=p.length-1;f>=0;f--){const y=p[f]|0;g&&y==u||(c[f]=y,g=!1)}this.g=c}var A={};function S(p){return-128<=p&&p<128?_(p,function(u){return new d([u|0],u<0?-1:0)}):new d([p|0],p<0?-1:0)}function b(p){if(isNaN(p)||!isFinite(p))return M;if(p<0)return L(b(-p));const u=[];let c=1;for(let g=0;p>=c;g++)u[g]=p/c|0,c*=4294967296;return new d(u,0)}function k(p,u){if(p.length==0)throw Error("number format error: empty string");if(u=u||10,u<2||36<u)throw Error("radix out of range: "+u);if(p.charAt(0)=="-")return L(k(p.substring(1),u));if(p.indexOf("-")>=0)throw Error('number format error: interior "-" character');const c=b(Math.pow(u,8));let g=M;for(let y=0;y<p.length;y+=8){var f=Math.min(8,p.length-y);const l=parseInt(p.substring(y,y+f),u);f<8?(f=b(Math.pow(u,f)),g=g.j(f).add(b(l))):(g=g.j(c),g=g.add(b(l)))}return g}var M=S(0),Q=S(1),J=S(16777216);i=d.prototype,i.m=function(){if(q(this))return-L(this).m();let p=0,u=1;for(let c=0;c<this.g.length;c++){const g=this.i(c);p+=(g>=0?g:4294967296+g)*u,u*=4294967296}return p},i.toString=function(p){if(p=p||10,p<2||36<p)throw Error("radix out of range: "+p);if(H(this))return"0";if(q(this))return"-"+L(this).toString(p);const u=b(Math.pow(p,6));var c=this;let g="";for(;;){const f=Ct(c,u).g;c=Mt(c,f.j(u));let y=((c.g.length>0?c.g[0]:c.h)>>>0).toString(p);if(c=f,H(c))return y+g;for(;y.length<6;)y="0"+y;g=y+g}},i.i=function(p){return p<0?0:p<this.g.length?this.g[p]:this.h};function H(p){if(p.h!=0)return!1;for(let u=0;u<p.g.length;u++)if(p.g[u]!=0)return!1;return!0}function q(p){return p.h==-1}i.l=function(p){return p=Mt(this,p),q(p)?-1:H(p)?0:1};function L(p){const u=p.g.length,c=[];for(let g=0;g<u;g++)c[g]=~p.g[g];return new d(c,~p.h).add(Q)}i.abs=function(){return q(this)?L(this):this},i.add=function(p){const u=Math.max(this.g.length,p.g.length),c=[];let g=0;for(let f=0;f<=u;f++){let y=g+(this.i(f)&65535)+(p.i(f)&65535),l=(y>>>16)+(this.i(f)>>>16)+(p.i(f)>>>16);g=l>>>16,y&=65535,l&=65535,c[f]=l<<16|y}return new d(c,c[c.length-1]&-2147483648?-1:0)};function Mt(p,u){return p.add(L(u))}i.j=function(p){if(H(this)||H(p))return M;if(q(this))return q(p)?L(this).j(L(p)):L(L(this).j(p));if(q(p))return L(this.j(L(p)));if(this.l(J)<0&&p.l(J)<0)return b(this.m()*p.m());const u=this.g.length+p.g.length,c=[];for(var g=0;g<2*u;g++)c[g]=0;for(g=0;g<this.g.length;g++)for(let f=0;f<p.g.length;f++){const y=this.i(g)>>>16,l=this.i(g)&65535,$=p.i(f)>>>16,yt=p.i(f)&65535;c[2*g+2*f]+=l*yt,Pt(c,2*g+2*f),c[2*g+2*f+1]+=y*yt,Pt(c,2*g+2*f+1),c[2*g+2*f+1]+=l*$,Pt(c,2*g+2*f+1),c[2*g+2*f+2]+=y*$,Pt(c,2*g+2*f+2)}for(p=0;p<u;p++)c[p]=c[2*p+1]<<16|c[2*p];for(p=u;p<2*u;p++)c[p]=0;return new d(c,0)};function Pt(p,u){for(;(p[u]&65535)!=p[u];)p[u+1]+=p[u]>>>16,p[u]&=65535,u++}function ht(p,u){this.g=p,this.h=u}function Ct(p,u){if(H(u))throw Error("division by zero");if(H(p))return new ht(M,M);if(q(p))return u=Ct(L(p),u),new ht(L(u.g),L(u.h));if(q(u))return u=Ct(p,L(u)),new ht(L(u.g),u.h);if(p.g.length>30){if(q(p)||q(u))throw Error("slowDivide_ only works with positive integers.");for(var c=Q,g=u;g.l(p)<=0;)c=at(c),g=at(g);var f=X(c,1),y=X(g,1);for(g=X(g,2),c=X(c,2);!H(g);){var l=y.add(g);l.l(p)<=0&&(f=f.add(c),y=l),g=X(g,1),c=X(c,1)}return u=Mt(p,f.j(u)),new ht(f,u)}for(f=M;p.l(u)>=0;){for(c=Math.max(1,Math.floor(p.m()/u.m())),g=Math.ceil(Math.log(c)/Math.LN2),g=g<=48?1:Math.pow(2,g-48),y=b(c),l=y.j(u);q(l)||l.l(p)>0;)c-=g,y=b(c),l=y.j(u);H(y)&&(y=Q),f=f.add(y),p=Mt(p,l)}return new ht(f,p)}i.B=function(p){return Ct(this,p).h},i.and=function(p){const u=Math.max(this.g.length,p.g.length),c=[];for(let g=0;g<u;g++)c[g]=this.i(g)&p.i(g);return new d(c,this.h&p.h)},i.or=function(p){const u=Math.max(this.g.length,p.g.length),c=[];for(let g=0;g<u;g++)c[g]=this.i(g)|p.i(g);return new d(c,this.h|p.h)},i.xor=function(p){const u=Math.max(this.g.length,p.g.length),c=[];for(let g=0;g<u;g++)c[g]=this.i(g)^p.i(g);return new d(c,this.h^p.h)};function at(p){const u=p.g.length+1,c=[];for(let g=0;g<u;g++)c[g]=p.i(g)<<1|p.i(g-1)>>>31;return new d(c,p.h)}function X(p,u){const c=u>>5;u%=32;const g=p.g.length-c,f=[];for(let y=0;y<g;y++)f[y]=u>0?p.i(y+c)>>>u|p.i(y+c+1)<<32-u:p.i(y+c);return new d(f,p.h)}o.prototype.digest=o.prototype.A,o.prototype.reset=o.prototype.u,o.prototype.update=o.prototype.v,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=b,d.fromString=k,gn=d}).apply(typeof Nr<"u"?Nr:typeof self<"u"?self:typeof window<"u"?window:{});var ve=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var i,e=Object.defineProperty;function n(t){t=[typeof globalThis=="object"&&globalThis,t,typeof window=="object"&&window,typeof self=="object"&&self,typeof ve=="object"&&ve];for(var r=0;r<t.length;++r){var s=t[r];if(s&&s.Math==Math)return s}throw Error("Cannot find global object")}var o=n(this);function a(t,r){if(r)t:{var s=o;t=t.split(".");for(var h=0;h<t.length-1;h++){var m=t[h];if(!(m in s))break t;s=s[m]}t=t[t.length-1],h=s[t],r=r(h),r!=h&&r!=null&&e(s,t,{configurable:!0,writable:!0,value:r})}}a("Symbol.dispose",function(t){return t||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(t){return t||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(t){return t||function(r){var s=[],h;for(h in r)Object.prototype.hasOwnProperty.call(r,h)&&s.push([h,r[h]]);return s}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var _=_||{},d=this||self;function A(t){var r=typeof t;return r=="object"&&t!=null||r=="function"}function S(t,r,s){return t.call.apply(t.bind,arguments)}function b(t,r,s){return b=S,b.apply(null,arguments)}function k(t,r){var s=Array.prototype.slice.call(arguments,1);return function(){var h=s.slice();return h.push.apply(h,arguments),t.apply(this,h)}}function M(t,r){function s(){}s.prototype=r.prototype,t.Z=r.prototype,t.prototype=new s,t.prototype.constructor=t,t.Ob=function(h,m,v){for(var E=Array(arguments.length-2),T=2;T<arguments.length;T++)E[T-2]=arguments[T];return r.prototype[m].apply(h,E)}}var Q=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?t=>t&&AsyncContext.Snapshot.wrap(t):t=>t;function J(t){const r=t.length;if(r>0){const s=Array(r);for(let h=0;h<r;h++)s[h]=t[h];return s}return[]}function H(t,r){for(let h=1;h<arguments.length;h++){const m=arguments[h];var s=typeof m;if(s=s!="object"?s:m?Array.isArray(m)?"array":s:"null",s=="array"||s=="object"&&typeof m.length=="number"){s=t.length||0;const v=m.length||0;t.length=s+v;for(let E=0;E<v;E++)t[s+E]=m[E]}else t.push(m)}}class q{constructor(r,s){this.i=r,this.j=s,this.h=0,this.g=null}get(){let r;return this.h>0?(this.h--,r=this.g,this.g=r.next,r.next=null):r=this.i(),r}}function L(t){d.setTimeout(()=>{throw t},0)}function Mt(){var t=p;let r=null;return t.g&&(r=t.g,t.g=t.g.next,t.g||(t.h=null),r.next=null),r}class Pt{constructor(){this.h=this.g=null}add(r,s){const h=ht.get();h.set(r,s),this.h?this.h.next=h:this.g=h,this.h=h}}var ht=new q(()=>new Ct,t=>t.reset());class Ct{constructor(){this.next=this.g=this.h=null}set(r,s){this.h=r,this.g=s,this.next=null}reset(){this.next=this.g=this.h=null}}let at,X=!1,p=new Pt,u=()=>{const t=Promise.resolve(void 0);at=()=>{t.then(c)}};function c(){for(var t;t=Mt();){try{t.h.call(t.g)}catch(s){L(s)}var r=ht;r.j(t),r.h<100&&(r.h++,t.next=r.g,r.g=t)}X=!1}function g(){this.u=this.u,this.C=this.C}g.prototype.u=!1,g.prototype.dispose=function(){this.u||(this.u=!0,this.N())},g.prototype[Symbol.dispose]=function(){this.dispose()},g.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function f(t,r){this.type=t,this.g=this.target=r,this.defaultPrevented=!1}f.prototype.h=function(){this.defaultPrevented=!0};var y=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var t=!1,r=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const s=()=>{};d.addEventListener("test",s,r),d.removeEventListener("test",s,r)}catch{}return t})();function l(t){return/^[\s\xa0]*$/.test(t)}function $(t,r){f.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t&&this.init(t,r)}M($,f),$.prototype.init=function(t,r){const s=this.type=t.type,h=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;this.target=t.target||t.srcElement,this.g=r,r=t.relatedTarget,r||(s=="mouseover"?r=t.fromElement:s=="mouseout"&&(r=t.toElement)),this.relatedTarget=r,h?(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=t.pointerType,this.state=t.state,this.i=t,t.defaultPrevented&&$.Z.h.call(this)},$.prototype.h=function(){$.Z.h.call(this);const t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var yt="closure_listenable_"+(Math.random()*1e6|0),si=0;function oi(t,r,s,h,m){this.listener=t,this.proxy=null,this.src=r,this.type=s,this.capture=!!h,this.ha=m,this.key=++si,this.da=this.fa=!1}function oe(t){t.da=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function he(t,r,s){for(const h in t)r.call(s,t[h],h,t)}function hi(t,r){for(const s in t)r.call(void 0,t[s],s,t)}function _n(t){const r={};for(const s in t)r[s]=t[s];return r}const vn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function wn(t,r){let s,h;for(let m=1;m<arguments.length;m++){h=arguments[m];for(s in h)t[s]=h[s];for(let v=0;v<vn.length;v++)s=vn[v],Object.prototype.hasOwnProperty.call(h,s)&&(t[s]=h[s])}}function ae(t){this.src=t,this.g={},this.h=0}ae.prototype.add=function(t,r,s,h,m){const v=t.toString();t=this.g[v],t||(t=this.g[v]=[],this.h++);const E=Me(t,r,h,m);return E>-1?(r=t[E],s||(r.fa=!1)):(r=new oi(r,this.src,v,!!h,m),r.fa=s,t.push(r)),r};function De(t,r){const s=r.type;if(s in t.g){var h=t.g[s],m=Array.prototype.indexOf.call(h,r,void 0),v;(v=m>=0)&&Array.prototype.splice.call(h,m,1),v&&(oe(r),t.g[s].length==0&&(delete t.g[s],t.h--))}}function Me(t,r,s,h){for(let m=0;m<t.length;++m){const v=t[m];if(!v.da&&v.listener==r&&v.capture==!!s&&v.ha==h)return m}return-1}var Pe="closure_lm_"+(Math.random()*1e6|0),Ce={};function En(t,r,s,h,m){if(Array.isArray(r)){for(let v=0;v<r.length;v++)En(t,r[v],s,h,m);return null}return s=bn(s),t&&t[yt]?t.J(r,s,A(h)?!!h.capture:!1,m):ai(t,r,s,!1,h,m)}function ai(t,r,s,h,m,v){if(!r)throw Error("Invalid event type");const E=A(m)?!!m.capture:!!m;let T=Oe(t);if(T||(t[Pe]=T=new ae(t)),s=T.add(r,s,h,E,v),s.proxy)return s;if(h=ui(),s.proxy=h,h.src=t,h.listener=s,t.addEventListener)y||(m=E),m===void 0&&(m=!1),t.addEventListener(r.toString(),h,m);else if(t.attachEvent)t.attachEvent(Sn(r.toString()),h);else if(t.addListener&&t.removeListener)t.addListener(h);else throw Error("addEventListener and attachEvent are unavailable.");return s}function ui(){function t(s){return r.call(t.src,t.listener,s)}const r=li;return t}function An(t,r,s,h,m){if(Array.isArray(r))for(var v=0;v<r.length;v++)An(t,r[v],s,h,m);else h=A(h)?!!h.capture:!!h,s=bn(s),t&&t[yt]?(t=t.i,v=String(r).toString(),v in t.g&&(r=t.g[v],s=Me(r,s,h,m),s>-1&&(oe(r[s]),Array.prototype.splice.call(r,s,1),r.length==0&&(delete t.g[v],t.h--)))):t&&(t=Oe(t))&&(r=t.g[r.toString()],t=-1,r&&(t=Me(r,s,h,m)),(s=t>-1?r[t]:null)&&Re(s))}function Re(t){if(typeof t!="number"&&t&&!t.da){var r=t.src;if(r&&r[yt])De(r.i,t);else{var s=t.type,h=t.proxy;r.removeEventListener?r.removeEventListener(s,h,t.capture):r.detachEvent?r.detachEvent(Sn(s),h):r.addListener&&r.removeListener&&r.removeListener(h),(s=Oe(r))?(De(s,t),s.h==0&&(s.src=null,r[Pe]=null)):oe(t)}}}function Sn(t){return t in Ce?Ce[t]:Ce[t]="on"+t}function li(t,r){if(t.da)t=!0;else{r=new $(r,this);const s=t.listener,h=t.ha||t.src;t.fa&&Re(t),t=s.call(h,r)}return t}function Oe(t){return t=t[Pe],t instanceof ae?t:null}var xe="__closure_events_fn_"+(Math.random()*1e9>>>0);function bn(t){return typeof t=="function"?t:(t[xe]||(t[xe]=function(r){return t.handleEvent(r)}),t[xe])}function B(){g.call(this),this.i=new ae(this),this.M=this,this.G=null}M(B,g),B.prototype[yt]=!0,B.prototype.removeEventListener=function(t,r,s,h){An(this,t,r,s,h)};function F(t,r){var s,h=t.G;if(h)for(s=[];h;h=h.G)s.push(h);if(t=t.M,h=r.type||r,typeof r=="string")r=new f(r,t);else if(r instanceof f)r.target=r.target||t;else{var m=r;r=new f(h,t),wn(r,m)}m=!0;let v,E;if(s)for(E=s.length-1;E>=0;E--)v=r.g=s[E],m=ue(v,h,!0,r)&&m;if(v=r.g=t,m=ue(v,h,!0,r)&&m,m=ue(v,h,!1,r)&&m,s)for(E=0;E<s.length;E++)v=r.g=s[E],m=ue(v,h,!1,r)&&m}B.prototype.N=function(){if(B.Z.N.call(this),this.i){var t=this.i;for(const r in t.g){const s=t.g[r];for(let h=0;h<s.length;h++)oe(s[h]);delete t.g[r],t.h--}}this.G=null},B.prototype.J=function(t,r,s,h){return this.i.add(String(t),r,!1,s,h)},B.prototype.K=function(t,r,s,h){return this.i.add(String(t),r,!0,s,h)};function ue(t,r,s,h){if(r=t.i.g[String(r)],!r)return!0;r=r.concat();let m=!0;for(let v=0;v<r.length;++v){const E=r[v];if(E&&!E.da&&E.capture==s){const T=E.listener,V=E.ha||E.src;E.fa&&De(t.i,E),m=T.call(V,h)!==!1&&m}}return m&&!h.defaultPrevented}function ci(t,r){if(typeof t!="function")if(t&&typeof t.handleEvent=="function")t=b(t.handleEvent,t);else throw Error("Invalid listener argument");return Number(r)>2147483647?-1:d.setTimeout(t,r||0)}function Tn(t){t.g=ci(()=>{t.g=null,t.i&&(t.i=!1,Tn(t))},t.l);const r=t.h;t.h=null,t.m.apply(null,r)}class fi extends g{constructor(r,s){super(),this.m=r,this.l=s,this.h=null,this.i=!1,this.g=null}j(r){this.h=arguments,this.g?this.i=!0:Tn(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bt(t){g.call(this),this.h=t,this.g={}}M(Bt,g);var In=[];function Nn(t){he(t.g,function(r,s){this.g.hasOwnProperty(s)&&Re(r)},t),t.g={}}Bt.prototype.N=function(){Bt.Z.N.call(this),Nn(this)},Bt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Le=d.JSON.stringify,pi=d.JSON.parse,gi=class{stringify(t){return d.JSON.stringify(t,void 0)}parse(t){return d.JSON.parse(t,void 0)}};function Dn(){}function di(){}var Ft={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ve(){f.call(this,"d")}M(Ve,f);function je(){f.call(this,"c")}M(je,f);var Rt={},Mn=null;function ke(){return Mn=Mn||new B}Rt.Ia="serverreachability";function Pn(t){f.call(this,Rt.Ia,t)}M(Pn,f);function Ut(t){const r=ke();F(r,new Pn(r))}Rt.STAT_EVENT="statevent";function Cn(t,r){f.call(this,Rt.STAT_EVENT,t),this.stat=r}M(Cn,f);function U(t){const r=ke();F(r,new Cn(r,t))}Rt.Ja="timingevent";function Rn(t,r){f.call(this,Rt.Ja,t),this.size=r}M(Rn,f);function Ht(t,r){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){t()},r)}function qt(){this.g=!0}qt.prototype.ua=function(){this.g=!1};function mi(t,r,s,h,m,v){t.info(function(){if(t.g)if(v){var E="",T=v.split("&");for(let P=0;P<T.length;P++){var V=T[P].split("=");if(V.length>1){const j=V[0];V=V[1];const tt=j.split("_");E=tt.length>=2&&tt[1]=="type"?E+(j+"="+V+"&"):E+(j+"=redacted&")}}}else E=null;else E=v;return"XMLHTTP REQ ("+h+") [attempt "+m+"]: "+r+`
`+s+`
`+E})}function yi(t,r,s,h,m,v,E){t.info(function(){return"XMLHTTP RESP ("+h+") [ attempt "+m+"]: "+r+`
`+s+`
`+v+" "+E})}function Ot(t,r,s,h){t.info(function(){return"XMLHTTP TEXT ("+r+"): "+vi(t,s)+(h?" "+h:"")})}function _i(t,r){t.info(function(){return"TIMEOUT: "+r})}qt.prototype.info=function(){};function vi(t,r){if(!t.g)return r;if(!r)return null;try{const v=JSON.parse(r);if(v){for(t=0;t<v.length;t++)if(Array.isArray(v[t])){var s=v[t];if(!(s.length<2)){var h=s[1];if(Array.isArray(h)&&!(h.length<1)){var m=h[0];if(m!="noop"&&m!="stop"&&m!="close")for(let E=1;E<h.length;E++)h[E]=""}}}}return Le(v)}catch{return r}}var Be={NO_ERROR:0,TIMEOUT:8},wi={},On;function Fe(){}M(Fe,Dn),Fe.prototype.g=function(){return new XMLHttpRequest},On=new Fe;function $t(t){return encodeURIComponent(String(t))}function Ei(t){var r=1;t=t.split(":");const s=[];for(;r>0&&t.length;)s.push(t.shift()),r--;return t.length&&s.push(t.join(":")),s}function ut(t,r,s,h){this.j=t,this.i=r,this.l=s,this.S=h||1,this.V=new Bt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new xn}function xn(){this.i=null,this.g="",this.h=!1}var Ln={},Ue={};function He(t,r,s){t.M=1,t.A=ce(Z(r)),t.u=s,t.R=!0,Vn(t,null)}function Vn(t,r){t.F=Date.now(),le(t),t.B=Z(t.A);var s=t.B,h=t.S;Array.isArray(h)||(h=[String(h)]),Jn(s.i,"t",h),t.C=0,s=t.j.L,t.h=new xn,t.g=pr(t.j,s?r:null,!t.u),t.P>0&&(t.O=new fi(b(t.Y,t,t.g),t.P)),r=t.V,s=t.g,h=t.ba;var m="readystatechange";Array.isArray(m)||(m&&(In[0]=m.toString()),m=In);for(let v=0;v<m.length;v++){const E=En(s,m[v],h||r.handleEvent,!1,r.h||r);if(!E)break;r.g[E.key]=E}r=t.J?_n(t.J):{},t.u?(t.v||(t.v="POST"),r["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.B,t.v,t.u,r)):(t.v="GET",t.g.ea(t.B,t.v,null,r)),Ut(),mi(t.i,t.v,t.B,t.l,t.S,t.u)}ut.prototype.ba=function(t){t=t.target;const r=this.O;r&&ft(t)==3?r.j():this.Y(t)},ut.prototype.Y=function(t){try{if(t==this.g)t:{const T=ft(this.g),V=this.g.ya(),P=this.g.ca();if(!(T<3)&&(T!=3||this.g&&(this.h.h||this.g.la()||nr(this.g)))){this.K||T!=4||V==7||(V==8||P<=0?Ut(3):Ut(2)),qe(this);var r=this.g.ca();this.X=r;var s=Ai(this);if(this.o=r==200,yi(this.i,this.v,this.B,this.l,this.S,T,r),this.o){if(this.U&&!this.L){e:{if(this.g){var h,m=this.g;if((h=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!l(h)){var v=h;break e}}v=null}if(t=v)Ot(this.i,this.l,t,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,$e(this,t);else{this.o=!1,this.m=3,U(12),_t(this),Gt(this);break t}}if(this.R){t=!0;let j;for(;!this.K&&this.C<s.length;)if(j=Si(this,s),j==Ue){T==4&&(this.m=4,U(14),t=!1),Ot(this.i,this.l,null,"[Incomplete Response]");break}else if(j==Ln){this.m=4,U(15),Ot(this.i,this.l,s,"[Invalid Chunk]"),t=!1;break}else Ot(this.i,this.l,j,null),$e(this,j);if(jn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),T!=4||s.length!=0||this.h.h||(this.m=1,U(16),t=!1),this.o=this.o&&t,!t)Ot(this.i,this.l,s,"[Invalid Chunked Response]"),_t(this),Gt(this);else if(s.length>0&&!this.W){this.W=!0;var E=this.j;E.g==this&&E.aa&&!E.P&&(E.j.info("Great, no buffering proxy detected. Bytes received: "+s.length),Qe(E),E.P=!0,U(11))}}else Ot(this.i,this.l,s,null),$e(this,s);T==4&&_t(this),this.o&&!this.K&&(T==4?ur(this.j,this):(this.o=!1,le(this)))}else ji(this.g),r==400&&s.indexOf("Unknown SID")>0?(this.m=3,U(12)):(this.m=0,U(13)),_t(this),Gt(this)}}}catch{}finally{}};function Ai(t){if(!jn(t))return t.g.la();const r=nr(t.g);if(r==="")return"";let s="";const h=r.length,m=ft(t.g)==4;if(!t.h.i){if(typeof TextDecoder>"u")return _t(t),Gt(t),"";t.h.i=new d.TextDecoder}for(let v=0;v<h;v++)t.h.h=!0,s+=t.h.i.decode(r[v],{stream:!(m&&v==h-1)});return r.length=0,t.h.g+=s,t.C=0,t.h.g}function jn(t){return t.g?t.v=="GET"&&t.M!=2&&t.j.Aa:!1}function Si(t,r){var s=t.C,h=r.indexOf(`
`,s);return h==-1?Ue:(s=Number(r.substring(s,h)),isNaN(s)?Ln:(h+=1,h+s>r.length?Ue:(r=r.slice(h,h+s),t.C=h+s,r)))}ut.prototype.cancel=function(){this.K=!0,_t(this)};function le(t){t.T=Date.now()+t.H,kn(t,t.H)}function kn(t,r){if(t.D!=null)throw Error("WatchDog timer not null");t.D=Ht(b(t.aa,t),r)}function qe(t){t.D&&(d.clearTimeout(t.D),t.D=null)}ut.prototype.aa=function(){this.D=null;const t=Date.now();t-this.T>=0?(_i(this.i,this.B),this.M!=2&&(Ut(),U(17)),_t(this),this.m=2,Gt(this)):kn(this,this.T-t)};function Gt(t){t.j.I==0||t.K||ur(t.j,t)}function _t(t){qe(t);var r=t.O;r&&typeof r.dispose=="function"&&r.dispose(),t.O=null,Nn(t.V),t.g&&(r=t.g,t.g=null,r.abort(),r.dispose())}function $e(t,r){try{var s=t.j;if(s.I!=0&&(s.g==t||Ge(s.h,t))){if(!t.L&&Ge(s.h,t)&&s.I==3){try{var h=s.Ba.g.parse(r)}catch{h=null}if(Array.isArray(h)&&h.length==3){var m=h;if(m[0]==0){t:if(!s.v){if(s.g)if(s.g.F+3e3<t.F)me(s),ge(s);else break t;Ye(s),U(18)}}else s.xa=m[1],0<s.xa-s.K&&m[2]<37500&&s.F&&s.A==0&&!s.C&&(s.C=Ht(b(s.Va,s),6e3));Un(s.h)<=1&&s.ta&&(s.ta=void 0)}else wt(s,11)}else if((t.L||s.g==t)&&me(s),!l(r))for(m=s.Ba.g.parse(r),r=0;r<m.length;r++){let P=m[r];const j=P[0];if(!(j<=s.K))if(s.K=j,P=P[1],s.I==2)if(P[0]=="c"){s.M=P[1],s.ba=P[2];const tt=P[3];tt!=null&&(s.ka=tt,s.j.info("VER="+s.ka));const Et=P[4];Et!=null&&(s.za=Et,s.j.info("SVER="+s.za));const pt=P[5];pt!=null&&typeof pt=="number"&&pt>0&&(h=1.5*pt,s.O=h,s.j.info("backChannelRequestTimeoutMs_="+h)),h=s;const gt=t.g;if(gt){const ye=gt.g?gt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ye){var v=h.h;v.g||ye.indexOf("spdy")==-1&&ye.indexOf("quic")==-1&&ye.indexOf("h2")==-1||(v.j=v.l,v.g=new Set,v.h&&(We(v,v.h),v.h=null))}if(h.G){const Ze=gt.g?gt.g.getResponseHeader("X-HTTP-Session-Id"):null;Ze&&(h.wa=Ze,R(h.J,h.G,Ze))}}s.I=3,s.l&&s.l.ra(),s.aa&&(s.T=Date.now()-t.F,s.j.info("Handshake RTT: "+s.T+"ms")),h=s;var E=t;if(h.na=fr(h,h.L?h.ba:null,h.W),E.L){Hn(h.h,E);var T=E,V=h.O;V&&(T.H=V),T.D&&(qe(T),le(T)),h.g=E}else hr(h);s.i.length>0&&de(s)}else P[0]!="stop"&&P[0]!="close"||wt(s,7);else s.I==3&&(P[0]=="stop"||P[0]=="close"?P[0]=="stop"?wt(s,7):Ke(s):P[0]!="noop"&&s.l&&s.l.qa(P),s.A=0)}}Ut(4)}catch{}}var bi=class{constructor(t,r){this.g=t,this.map=r}};function Bn(t){this.l=t||10,d.PerformanceNavigationTiming?(t=d.performance.getEntriesByType("navigation"),t=t.length>0&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=t?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Fn(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Un(t){return t.h?1:t.g?t.g.size:0}function Ge(t,r){return t.h?t.h==r:t.g?t.g.has(r):!1}function We(t,r){t.g?t.g.add(r):t.h=r}function Hn(t,r){t.h&&t.h==r?t.h=null:t.g&&t.g.has(r)&&t.g.delete(r)}Bn.prototype.cancel=function(){if(this.i=qn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function qn(t){if(t.h!=null)return t.i.concat(t.h.G);if(t.g!=null&&t.g.size!==0){let r=t.i;for(const s of t.g.values())r=r.concat(s.G);return r}return J(t.i)}var $n=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ti(t,r){if(t){t=t.split("&");for(let s=0;s<t.length;s++){const h=t[s].indexOf("=");let m,v=null;h>=0?(m=t[s].substring(0,h),v=t[s].substring(h+1)):m=t[s],r(m,v?decodeURIComponent(v.replace(/\+/g," ")):"")}}}function lt(t){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let r;t instanceof lt?(this.l=t.l,Wt(this,t.j),this.o=t.o,this.g=t.g,Xt(this,t.u),this.h=t.h,Xe(this,Kn(t.i)),this.m=t.m):t&&(r=String(t).match($n))?(this.l=!1,Wt(this,r[1]||"",!0),this.o=zt(r[2]||""),this.g=zt(r[3]||"",!0),Xt(this,r[4]),this.h=zt(r[5]||"",!0),Xe(this,r[6]||"",!0),this.m=zt(r[7]||"")):(this.l=!1,this.i=new Kt(null,this.l))}lt.prototype.toString=function(){const t=[];var r=this.j;r&&t.push(Jt(r,Gn,!0),":");var s=this.g;return(s||r=="file")&&(t.push("//"),(r=this.o)&&t.push(Jt(r,Gn,!0),"@"),t.push($t(s).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s=this.u,s!=null&&t.push(":",String(s))),(s=this.h)&&(this.g&&s.charAt(0)!="/"&&t.push("/"),t.push(Jt(s,s.charAt(0)=="/"?Di:Ni,!0))),(s=this.i.toString())&&t.push("?",s),(s=this.m)&&t.push("#",Jt(s,Pi)),t.join("")},lt.prototype.resolve=function(t){const r=Z(this);let s=!!t.j;s?Wt(r,t.j):s=!!t.o,s?r.o=t.o:s=!!t.g,s?r.g=t.g:s=t.u!=null;var h=t.h;if(s)Xt(r,t.u);else if(s=!!t.h){if(h.charAt(0)!="/")if(this.g&&!this.h)h="/"+h;else{var m=r.h.lastIndexOf("/");m!=-1&&(h=r.h.slice(0,m+1)+h)}if(m=h,m==".."||m==".")h="";else if(m.indexOf("./")!=-1||m.indexOf("/.")!=-1){h=m.lastIndexOf("/",0)==0,m=m.split("/");const v=[];for(let E=0;E<m.length;){const T=m[E++];T=="."?h&&E==m.length&&v.push(""):T==".."?((v.length>1||v.length==1&&v[0]!="")&&v.pop(),h&&E==m.length&&v.push("")):(v.push(T),h=!0)}h=v.join("/")}else h=m}return s?r.h=h:s=t.i.toString()!=="",s?Xe(r,Kn(t.i)):s=!!t.m,s&&(r.m=t.m),r};function Z(t){return new lt(t)}function Wt(t,r,s){t.j=s?zt(r,!0):r,t.j&&(t.j=t.j.replace(/:$/,""))}function Xt(t,r){if(r){if(r=Number(r),isNaN(r)||r<0)throw Error("Bad port number "+r);t.u=r}else t.u=null}function Xe(t,r,s){r instanceof Kt?(t.i=r,Ci(t.i,t.l)):(s||(r=Jt(r,Mi)),t.i=new Kt(r,t.l))}function R(t,r,s){t.i.set(r,s)}function ce(t){return R(t,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),t}function zt(t,r){return t?r?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Jt(t,r,s){return typeof t=="string"?(t=encodeURI(t).replace(r,Ii),s&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ii(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Gn=/[#\/\?@]/g,Ni=/[#\?:]/g,Di=/[#\?]/g,Mi=/[#\?@]/g,Pi=/#/g;function Kt(t,r){this.h=this.g=null,this.i=t||null,this.j=!!r}function vt(t){t.g||(t.g=new Map,t.h=0,t.i&&Ti(t.i,function(r,s){t.add(decodeURIComponent(r.replace(/\+/g," ")),s)}))}i=Kt.prototype,i.add=function(t,r){vt(this),this.i=null,t=xt(this,t);let s=this.g.get(t);return s||this.g.set(t,s=[]),s.push(r),this.h+=1,this};function Wn(t,r){vt(t),r=xt(t,r),t.g.has(r)&&(t.i=null,t.h-=t.g.get(r).length,t.g.delete(r))}function Xn(t,r){return vt(t),r=xt(t,r),t.g.has(r)}i.forEach=function(t,r){vt(this),this.g.forEach(function(s,h){s.forEach(function(m){t.call(r,m,h,this)},this)},this)};function zn(t,r){vt(t);let s=[];if(typeof r=="string")Xn(t,r)&&(s=s.concat(t.g.get(xt(t,r))));else for(t=Array.from(t.g.values()),r=0;r<t.length;r++)s=s.concat(t[r]);return s}i.set=function(t,r){return vt(this),this.i=null,t=xt(this,t),Xn(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[r]),this.h+=1,this},i.get=function(t,r){return t?(t=zn(this,t),t.length>0?String(t[0]):r):r};function Jn(t,r,s){Wn(t,r),s.length>0&&(t.i=null,t.g.set(xt(t,r),J(s)),t.h+=s.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],r=Array.from(this.g.keys());for(let h=0;h<r.length;h++){var s=r[h];const m=$t(s);s=zn(this,s);for(let v=0;v<s.length;v++){let E=m;s[v]!==""&&(E+="="+$t(s[v])),t.push(E)}}return this.i=t.join("&")};function Kn(t){const r=new Kt;return r.i=t.i,t.g&&(r.g=new Map(t.g),r.h=t.h),r}function xt(t,r){return r=String(r),t.j&&(r=r.toLowerCase()),r}function Ci(t,r){r&&!t.j&&(vt(t),t.i=null,t.g.forEach(function(s,h){const m=h.toLowerCase();h!=m&&(Wn(this,h),Jn(this,m,s))},t)),t.j=r}function Ri(t,r){const s=new qt;if(d.Image){const h=new Image;h.onload=k(ct,s,"TestLoadImage: loaded",!0,r,h),h.onerror=k(ct,s,"TestLoadImage: error",!1,r,h),h.onabort=k(ct,s,"TestLoadImage: abort",!1,r,h),h.ontimeout=k(ct,s,"TestLoadImage: timeout",!1,r,h),d.setTimeout(function(){h.ontimeout&&h.ontimeout()},1e4),h.src=t}else r(!1)}function Oi(t,r){const s=new qt,h=new AbortController,m=setTimeout(()=>{h.abort(),ct(s,"TestPingServer: timeout",!1,r)},1e4);fetch(t,{signal:h.signal}).then(v=>{clearTimeout(m),v.ok?ct(s,"TestPingServer: ok",!0,r):ct(s,"TestPingServer: server error",!1,r)}).catch(()=>{clearTimeout(m),ct(s,"TestPingServer: error",!1,r)})}function ct(t,r,s,h,m){try{m&&(m.onload=null,m.onerror=null,m.onabort=null,m.ontimeout=null),h(s)}catch{}}function xi(){this.g=new gi}function ze(t){this.i=t.Sb||null,this.h=t.ab||!1}M(ze,Dn),ze.prototype.g=function(){return new fe(this.i,this.h)};function fe(t,r){B.call(this),this.H=t,this.o=r,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}M(fe,B),i=fe.prototype,i.open=function(t,r){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=t,this.D=r,this.readyState=1,Qt(this)},i.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const r={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};t&&(r.body=t),(this.H||d).fetch(new Request(this.D,r)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Yt(this)),this.readyState=0},i.Pa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Qt(this)),this.g&&(this.readyState=3,Qt(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Yn(this)}else t.text().then(this.Oa.bind(this),this.ga.bind(this))};function Yn(t){t.j.read().then(t.Ma.bind(t)).catch(t.ga.bind(t))}i.Ma=function(t){if(this.g){if(this.o&&t.value)this.response.push(t.value);else if(!this.o){var r=t.value?t.value:new Uint8Array(0);(r=this.B.decode(r,{stream:!t.done}))&&(this.response=this.responseText+=r)}t.done?Yt(this):Qt(this),this.readyState==3&&Yn(this)}},i.Oa=function(t){this.g&&(this.response=this.responseText=t,Yt(this))},i.Na=function(t){this.g&&(this.response=t,Yt(this))},i.ga=function(){this.g&&Yt(this)};function Yt(t){t.readyState=4,t.l=null,t.j=null,t.B=null,Qt(t)}i.setRequestHeader=function(t,r){this.A.append(t,r)},i.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],r=this.h.entries();for(var s=r.next();!s.done;)s=s.value,t.push(s[0]+": "+s[1]),s=r.next();return t.join(`\r
`)};function Qt(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(fe.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});function Qn(t){let r="";return he(t,function(s,h){r+=h,r+=":",r+=s,r+=`\r
`}),r}function Je(t,r,s){t:{for(h in s){var h=!1;break t}h=!0}h||(s=Qn(s),typeof t=="string"?s!=null&&$t(s):R(t,r,s))}function O(t){B.call(this),this.headers=new Map,this.L=t||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}M(O,B);var Li=/^https?$/i,Vi=["POST","PUT"];i=O.prototype,i.Fa=function(t){this.H=t},i.ea=function(t,r,s,h){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+t);r=r?r.toUpperCase():"GET",this.D=t,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():On.g(),this.g.onreadystatechange=Q(b(this.Ca,this));try{this.B=!0,this.g.open(r,String(t),!0),this.B=!1}catch(v){Zn(this,v);return}if(t=s||"",s=new Map(this.headers),h)if(Object.getPrototypeOf(h)===Object.prototype)for(var m in h)s.set(m,h[m]);else if(typeof h.keys=="function"&&typeof h.get=="function")for(const v of h.keys())s.set(v,h.get(v));else throw Error("Unknown input type for opt_headers: "+String(h));h=Array.from(s.keys()).find(v=>v.toLowerCase()=="content-type"),m=d.FormData&&t instanceof d.FormData,!(Array.prototype.indexOf.call(Vi,r,void 0)>=0)||h||m||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[v,E]of s)this.g.setRequestHeader(v,E);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(t),this.v=!1}catch(v){Zn(this,v)}};function Zn(t,r){t.h=!1,t.g&&(t.j=!0,t.g.abort(),t.j=!1),t.l=r,t.o=5,tr(t),pe(t)}function tr(t){t.A||(t.A=!0,F(t,"complete"),F(t,"error"))}i.abort=function(t){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=t||7,F(this,"complete"),F(this,"abort"),pe(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pe(this,!0)),O.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?er(this):this.Xa())},i.Xa=function(){er(this)};function er(t){if(t.h&&typeof _<"u"){if(t.v&&ft(t)==4)setTimeout(t.Ca.bind(t),0);else if(F(t,"readystatechange"),ft(t)==4){t.h=!1;try{const v=t.ca();t:switch(v){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}var s;if(!(s=r)){var h;if(h=v===0){let E=String(t.D).match($n)[1]||null;!E&&d.self&&d.self.location&&(E=d.self.location.protocol.slice(0,-1)),h=!Li.test(E?E.toLowerCase():"")}s=h}if(s)F(t,"complete"),F(t,"success");else{t.o=6;try{var m=ft(t)>2?t.g.statusText:""}catch{m=""}t.l=m+" ["+t.ca()+"]",tr(t)}}finally{pe(t)}}}}function pe(t,r){if(t.g){t.m&&(clearTimeout(t.m),t.m=null);const s=t.g;t.g=null,r||F(t,"ready");try{s.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function ft(t){return t.g?t.g.readyState:0}i.ca=function(){try{return ft(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(t){if(this.g){var r=this.g.responseText;return t&&r.indexOf(t)==0&&(r=r.substring(t.length)),pi(r)}};function nr(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.F){case"":case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function ji(t){const r={};t=(t.g&&ft(t)>=2&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let h=0;h<t.length;h++){if(l(t[h]))continue;var s=Ei(t[h]);const m=s[0];if(s=s[1],typeof s!="string")continue;s=s.trim();const v=r[m]||[];r[m]=v,v.push(s)}hi(r,function(h){return h.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zt(t,r,s){return s&&s.internalChannelParams&&s.internalChannelParams[t]||r}function rr(t){this.za=0,this.i=[],this.j=new qt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Zt("failFast",!1,t),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Zt("baseRetryDelayMs",5e3,t),this.Za=Zt("retryDelaySeedMs",1e4,t),this.Ta=Zt("forwardChannelMaxRetries",2,t),this.va=Zt("forwardChannelRequestTimeoutMs",2e4,t),this.ma=t&&t.xmlHttpFactory||void 0,this.Ua=t&&t.Rb||void 0,this.Aa=t&&t.useFetchStreams||!1,this.O=void 0,this.L=t&&t.supportsCrossDomainXhr||!1,this.M="",this.h=new Bn(t&&t.concurrentRequestLimit),this.Ba=new xi,this.S=t&&t.fastHandshake||!1,this.R=t&&t.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=t&&t.Pb||!1,t&&t.ua&&this.j.ua(),t&&t.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&t&&t.detectBufferingProxy||!1,this.ia=void 0,t&&t.longPollingTimeout&&t.longPollingTimeout>0&&(this.ia=t.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=rr.prototype,i.ka=8,i.I=1,i.connect=function(t,r,s,h){U(0),this.W=t,this.H=r||{},s&&h!==void 0&&(this.H.OSID=s,this.H.OAID=h),this.F=this.X,this.J=fr(this,null,this.W),de(this)};function Ke(t){if(ir(t),t.I==3){var r=t.V++,s=Z(t.J);if(R(s,"SID",t.M),R(s,"RID",r),R(s,"TYPE","terminate"),te(t,s),r=new ut(t,t.j,r),r.M=2,r.A=ce(Z(s)),s=!1,d.navigator&&d.navigator.sendBeacon)try{s=d.navigator.sendBeacon(r.A.toString(),"")}catch{}!s&&d.Image&&(new Image().src=r.A,s=!0),s||(r.g=pr(r.j,null),r.g.ea(r.A)),r.F=Date.now(),le(r)}cr(t)}function ge(t){t.g&&(Qe(t),t.g.cancel(),t.g=null)}function ir(t){ge(t),t.v&&(d.clearTimeout(t.v),t.v=null),me(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&d.clearTimeout(t.m),t.m=null)}function de(t){if(!Fn(t.h)&&!t.m){t.m=!0;var r=t.Ea;at||u(),X||(at(),X=!0),p.add(r,t),t.D=0}}function ki(t,r){return Un(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=r.G.concat(t.i),!0):t.I==1||t.I==2||t.D>=(t.Sa?0:t.Ta)?!1:(t.m=Ht(b(t.Ea,t,r),lr(t,t.D)),t.D++,!0)}i.Ea=function(t){if(this.m)if(this.m=null,this.I==1){if(!t){this.V=Math.floor(Math.random()*1e5),t=this.V++;const m=new ut(this,this.j,t);let v=this.o;if(this.U&&(v?(v=_n(v),wn(v,this.U)):v=this.U),this.u!==null||this.R||(m.J=v,v=null),this.S)t:{for(var r=0,s=0;s<this.i.length;s++){e:{var h=this.i[s];if("__data__"in h.map&&(h=h.map.__data__,typeof h=="string")){h=h.length;break e}h=void 0}if(h===void 0)break;if(r+=h,r>4096){r=s;break t}if(r===4096||s===this.i.length-1){r=s+1;break t}}r=1e3}else r=1e3;r=or(this,m,r),s=Z(this.J),R(s,"RID",t),R(s,"CVER",22),this.G&&R(s,"X-HTTP-Session-Id",this.G),te(this,s),v&&(this.R?r="headers="+$t(Qn(v))+"&"+r:this.u&&Je(s,this.u,v)),We(this.h,m),this.Ra&&R(s,"TYPE","init"),this.S?(R(s,"$req",r),R(s,"SID","null"),m.U=!0,He(m,s,null)):He(m,s,r),this.I=2}}else this.I==3&&(t?sr(this,t):this.i.length==0||Fn(this.h)||sr(this))};function sr(t,r){var s;r?s=r.l:s=t.V++;const h=Z(t.J);R(h,"SID",t.M),R(h,"RID",s),R(h,"AID",t.K),te(t,h),t.u&&t.o&&Je(h,t.u,t.o),s=new ut(t,t.j,s,t.D+1),t.u===null&&(s.J=t.o),r&&(t.i=r.G.concat(t.i)),r=or(t,s,1e3),s.H=Math.round(t.va*.5)+Math.round(t.va*.5*Math.random()),We(t.h,s),He(s,h,r)}function te(t,r){t.H&&he(t.H,function(s,h){R(r,h,s)}),t.l&&he({},function(s,h){R(r,h,s)})}function or(t,r,s){s=Math.min(t.i.length,s);const h=t.l?b(t.l.Ka,t.l,t):null;t:{var m=t.i;let T=-1;for(;;){const V=["count="+s];T==-1?s>0?(T=m[0].g,V.push("ofs="+T)):T=0:V.push("ofs="+T);let P=!0;for(let j=0;j<s;j++){var v=m[j].g;const tt=m[j].map;if(v-=T,v<0)T=Math.max(0,m[j].g-100),P=!1;else try{v="req"+v+"_"||"";try{var E=tt instanceof Map?tt:Object.entries(tt);for(const[Et,pt]of E){let gt=pt;A(pt)&&(gt=Le(pt)),V.push(v+Et+"="+encodeURIComponent(gt))}}catch(Et){throw V.push(v+"type="+encodeURIComponent("_badmap")),Et}}catch{h&&h(tt)}}if(P){E=V.join("&");break t}}E=void 0}return t=t.i.splice(0,s),r.G=t,E}function hr(t){if(!t.g&&!t.v){t.Y=1;var r=t.Da;at||u(),X||(at(),X=!0),p.add(r,t),t.A=0}}function Ye(t){return t.g||t.v||t.A>=3?!1:(t.Y++,t.v=Ht(b(t.Da,t),lr(t,t.A)),t.A++,!0)}i.Da=function(){if(this.v=null,ar(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var t=4*this.T;this.j.info("BP detection timer enabled: "+t),this.B=Ht(b(this.Wa,this),t)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,U(10),ge(this),ar(this))};function Qe(t){t.B!=null&&(d.clearTimeout(t.B),t.B=null)}function ar(t){t.g=new ut(t,t.j,"rpc",t.Y),t.u===null&&(t.g.J=t.o),t.g.P=0;var r=Z(t.na);R(r,"RID","rpc"),R(r,"SID",t.M),R(r,"AID",t.K),R(r,"CI",t.F?"0":"1"),!t.F&&t.ia&&R(r,"TO",t.ia),R(r,"TYPE","xmlhttp"),te(t,r),t.u&&t.o&&Je(r,t.u,t.o),t.O&&(t.g.H=t.O);var s=t.g;t=t.ba,s.M=1,s.A=ce(Z(r)),s.u=null,s.R=!0,Vn(s,t)}i.Va=function(){this.C!=null&&(this.C=null,ge(this),Ye(this),U(19))};function me(t){t.C!=null&&(d.clearTimeout(t.C),t.C=null)}function ur(t,r){var s=null;if(t.g==r){me(t),Qe(t),t.g=null;var h=2}else if(Ge(t.h,r))s=r.G,Hn(t.h,r),h=1;else return;if(t.I!=0){if(r.o)if(h==1){s=r.u?r.u.length:0,r=Date.now()-r.F;var m=t.D;h=ke(),F(h,new Rn(h,s)),de(t)}else hr(t);else if(m=r.m,m==3||m==0&&r.X>0||!(h==1&&ki(t,r)||h==2&&Ye(t)))switch(s&&s.length>0&&(r=t.h,r.i=r.i.concat(s)),m){case 1:wt(t,5);break;case 4:wt(t,10);break;case 3:wt(t,6);break;default:wt(t,2)}}}function lr(t,r){let s=t.Qa+Math.floor(Math.random()*t.Za);return t.isActive()||(s*=2),s*r}function wt(t,r){if(t.j.info("Error code "+r),r==2){var s=b(t.bb,t),h=t.Ua;const m=!h;h=new lt(h||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Wt(h,"https"),ce(h),m?Ri(h.toString(),s):Oi(h.toString(),s)}else U(2);t.I=0,t.l&&t.l.pa(r),cr(t),ir(t)}i.bb=function(t){t?(this.j.info("Successfully pinged google.com"),U(2)):(this.j.info("Failed to ping google.com"),U(1))};function cr(t){if(t.I=0,t.ja=[],t.l){const r=qn(t.h);(r.length!=0||t.i.length!=0)&&(H(t.ja,r),H(t.ja,t.i),t.h.i.length=0,J(t.i),t.i.length=0),t.l.oa()}}function fr(t,r,s){var h=s instanceof lt?Z(s):new lt(s);if(h.g!="")r&&(h.g=r+"."+h.g),Xt(h,h.u);else{var m=d.location;h=m.protocol,r=r?r+"."+m.hostname:m.hostname,m=+m.port;const v=new lt(null);h&&Wt(v,h),r&&(v.g=r),m&&Xt(v,m),s&&(v.h=s),h=v}return s=t.G,r=t.wa,s&&r&&R(h,s,r),R(h,"VER",t.ka),te(t,h),h}function pr(t,r,s){if(r&&!t.L)throw Error("Can't create secondary domain capable XhrIo object.");return r=t.Aa&&!t.ma?new O(new ze({ab:s})):new O(t.ma),r.Fa(t.L),r}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function gr(){}i=gr.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function z(t,r){B.call(this),this.g=new rr(r),this.l=t,this.h=r&&r.messageUrlParams||null,t=r&&r.messageHeaders||null,r&&r.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.o=t,t=r&&r.initMessageHeaders||null,r&&r.messageContentType&&(t?t["X-WebChannel-Content-Type"]=r.messageContentType:t={"X-WebChannel-Content-Type":r.messageContentType}),r&&r.sa&&(t?t["X-WebChannel-Client-Profile"]=r.sa:t={"X-WebChannel-Client-Profile":r.sa}),this.g.U=t,(t=r&&r.Qb)&&!l(t)&&(this.g.u=t),this.A=r&&r.supportsCrossDomainXhr||!1,this.v=r&&r.sendRawJson||!1,(r=r&&r.httpSessionIdParam)&&!l(r)&&(this.g.G=r,t=this.h,t!==null&&r in t&&(t=this.h,r in t&&delete t[r])),this.j=new Lt(this)}M(z,B),z.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},z.prototype.close=function(){Ke(this.g)},z.prototype.o=function(t){var r=this.g;if(typeof t=="string"){var s={};s.__data__=t,t=s}else this.v&&(s={},s.__data__=Le(t),t=s);r.i.push(new bi(r.Ya++,t)),r.I==3&&de(r)},z.prototype.N=function(){this.g.l=null,delete this.j,Ke(this.g),delete this.g,z.Z.N.call(this)};function dr(t){Ve.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var r=t.__sm__;if(r){t:{for(const s in r){t=s;break t}t=void 0}(this.i=t)&&(t=this.i,r=r!==null&&t in r?r[t]:void 0),this.data=r}else this.data=t}M(dr,Ve);function mr(){je.call(this),this.status=1}M(mr,je);function Lt(t){this.g=t}M(Lt,gr),Lt.prototype.ra=function(){F(this.g,"a")},Lt.prototype.qa=function(t){F(this.g,new dr(t))},Lt.prototype.pa=function(t){F(this.g,new mr)},Lt.prototype.oa=function(){F(this.g,"b")},z.prototype.send=z.prototype.o,z.prototype.open=z.prototype.m,z.prototype.close=z.prototype.close,Be.NO_ERROR=0,Be.TIMEOUT=8,Be.HTTP_ERROR=6,wi.COMPLETE="complete",di.EventType=Ft,Ft.OPEN="a",Ft.CLOSE="b",Ft.ERROR="c",Ft.MESSAGE="d",B.prototype.listen=B.prototype.J,O.prototype.listenOnce=O.prototype.K,O.prototype.getLastError=O.prototype.Ha,O.prototype.getLastErrorCode=O.prototype.ya,O.prototype.getStatus=O.prototype.ca,O.prototype.getResponseJson=O.prototype.La,O.prototype.getResponseText=O.prototype.la,O.prototype.send=O.prototype.ea,O.prototype.setWithCredentials=O.prototype.Fa}).apply(typeof ve<"u"?ve:typeof self<"u"?self:typeof window<"u"?window:{});const Dr="@firebase/firestore",Mr="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}W.UNAUTHENTICATED=new W(null),W.GOOGLE_CREDENTIALS=new W("google-credentials-uid"),W.FIRST_PARTY=new W("first-party-uid"),W.MOCK_USER=new W("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ne="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const be=new zr("@firebase/firestore");function Y(i,...e){if(be.logLevel<=C.DEBUG){const n=e.map(ti);be.debug(`Firestore (${Ne}): ${i}`,...n)}}function Zr(i,...e){if(be.logLevel<=C.ERROR){const n=e.map(ti);be.error(`Firestore (${Ne}): ${i}`,...n)}}function ti(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(i,e,n){let o="Unexpected state";typeof e=="string"?o=e:n=e,ei(i,o,n)}function ei(i,e,n){let o=`FIRESTORE (${Ne}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{o+=" CONTEXT: "+JSON.stringify(n)}catch{o+=" CONTEXT: "+n}throw Zr(o),new Error(o)}function ee(i,e,n,o){let a="Unexpected state";typeof n=="string"?a=n:o=n,i||ei(e,a,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class D extends kt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fo{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(W.UNAUTHENTICATED)))}shutdown(){}}class po{constructor(e){this.t=e,this.currentUser=W.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ee(this.o===void 0,42304);let o=this.i;const a=S=>this.i!==o?(o=this.i,n(S)):Promise.resolve();let _=new ne;this.o=()=>{this.i++,this.currentUser=this.u(),_.resolve(),_=new ne,e.enqueueRetryable((()=>a(this.currentUser)))};const d=()=>{const S=_;e.enqueueRetryable((async()=>{await S.promise,await a(this.currentUser)}))},A=S=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=S,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((S=>A(S))),setTimeout((()=>{if(!this.auth){const S=this.t.getImmediate({optional:!0});S?A(S):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),_.resolve(),_=new ne)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((o=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(ee(typeof o.accessToken=="string",31837,{l:o}),new co(o.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ee(e===null||typeof e=="string",2055,{h:e}),new W(e)}}class go{constructor(e,n,o){this.P=e,this.T=n,this.I=o,this.type="FirstParty",this.user=W.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class mo{constructor(e,n,o){this.P=e,this.T=n,this.I=o}getToken(){return Promise.resolve(new go(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(W.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Pr{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yo{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ks(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ee(this.o===void 0,3512);const o=_=>{_.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${_.error.message}`);const d=_.token!==this.m;return this.m=_.token,Y("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(_.token):Promise.resolve()};this.o=_=>{e.enqueueRetryable((()=>o(_)))};const a=_=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=_,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((_=>a(_))),setTimeout((()=>{if(!this.appCheck){const _=this.V.getImmediate({optional:!0});_?a(_):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Pr(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ee(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Pr(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _o(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let o=0;o<i;o++)n[o]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let o="";for(;o.length<20;){const a=_o(40);for(let _=0;_<a.length;++_)o.length<20&&a[_]<n&&(o+=e.charAt(a[_]%62))}return o}}function mt(i,e){return i<e?-1:i>e?1:0}function wo(i,e){const n=Math.min(i.length,e.length);for(let o=0;o<n;o++){const a=i.charAt(o),_=e.charAt(o);if(a!==_)return hn(a)===hn(_)?mt(a,_):hn(a)?1:-1}return mt(i.length,e.length)}const Eo=55296,Ao=57343;function hn(i){const e=i.charCodeAt(0);return e>=Eo&&e<=Ao}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr="__name__";class nt{constructor(e,n,o){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),o===void 0?o=e.length-n:o>e.length-n&&Te(1746,{length:o,range:e.length-n}),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return nt.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof nt?e.forEach((o=>{n.push(o)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let a=0;a<o;a++){const _=nt.compareSegments(e.get(a),n.get(a));if(_!==0)return _}return mt(e.length,n.length)}static compareSegments(e,n){const o=nt.isNumericId(e),a=nt.isNumericId(n);return o&&!a?-1:!o&&a?1:o&&a?nt.extractNumericId(e).compare(nt.extractNumericId(n)):wo(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return gn.fromString(e.substring(4,e.length-2))}}class K extends nt{construct(e,n,o){return new K(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new D(N.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter((a=>a.length>0)))}return new K(n)}static emptyPath(){return new K([])}}const So=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class St extends nt{construct(e,n,o){return new St(e,n,o)}static isValidIdentifier(e){return So.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),St.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Cr}static keyField(){return new St([Cr])}static fromServerFormat(e){const n=[];let o="",a=0;const _=()=>{if(o.length===0)throw new D(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let d=!1;for(;a<e.length;){const A=e[a];if(A==="\\"){if(a+1===e.length)throw new D(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const S=e[a+1];if(S!=="\\"&&S!=="."&&S!=="`")throw new D(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=S,a+=2}else A==="`"?(d=!d,a++):A!=="."||d?(o+=A,a++):(_(),a++)}if(_(),d)throw new D(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new St(n)}static emptyPath(){return new St([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.path=e}static fromPath(e){return new bt(K.fromString(e))}static fromName(e){return new bt(K.fromString(e).popFirst(5))}static empty(){return new bt(K.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&K.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return K.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new bt(new K(e.slice()))}}function bo(i,e,n,o){if(e===!0&&o===!0)throw new D(N.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function To(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x(i,e){const n={typeString:i};return e&&(n.value=e),n}function se(i,e){if(!To(i))throw new D(N.INVALID_ARGUMENT,"JSON must be an object");let n;for(const o in e)if(e[o]){const a=e[o].typeString,_="value"in e[o]?{value:e[o].value}:void 0;if(!(o in i)){n=`JSON missing required field: '${o}'`;break}const d=i[o];if(a&&typeof d!==a){n=`JSON field '${o}' must be a ${a}.`;break}if(_!==void 0&&d!==_.value){n=`Expected '${o}' field to equal '${_.value}'`;break}}if(n)throw new D(N.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr=-62135596800,Or=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor((e-1e3*n)*Or);return new rt(n,o)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new D(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new D(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Rr)throw new D(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new D(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Or}_compareTo(e){return this.seconds===e.seconds?mt(this.nanoseconds,e.nanoseconds):mt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(se(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Rr;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:x("string",rt._jsonSchemaVersion),seconds:x("number"),nanoseconds:x("number")};function Io(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(_){throw typeof DOMException<"u"&&_ instanceof DOMException?new No("Invalid base64 string: "+_):_}})(e);return new Dt(n)}static fromUint8Array(e){const n=(function(a){let _="";for(let d=0;d<a.length;++d)_+=String.fromCharCode(a[d]);return _})(e);return new Dt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const o=new Uint8Array(n.length);for(let a=0;a<n.length;a++)o[a]=n.charCodeAt(a);return o})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return mt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dt.EMPTY_BYTE_STRING=new Dt("");const xr="(default)";class Ie{constructor(e,n){this.projectId=e,this.database=n||xr}static empty(){return new Ie("","")}get isDefaultDatabase(){return this.database===xr}isEqual(e){return e instanceof Ie&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,n=null,o=[],a=[],_=null,d="F",A=null,S=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=a,this.limit=_,this.limitType=d,this.startAt=A,this.endAt=S,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Mo(i){return new Do(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lr,I;(I=Lr||(Lr={}))[I.OK=0]="OK",I[I.CANCELLED=1]="CANCELLED",I[I.UNKNOWN=2]="UNKNOWN",I[I.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",I[I.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",I[I.NOT_FOUND=5]="NOT_FOUND",I[I.ALREADY_EXISTS=6]="ALREADY_EXISTS",I[I.PERMISSION_DENIED=7]="PERMISSION_DENIED",I[I.UNAUTHENTICATED=16]="UNAUTHENTICATED",I[I.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",I[I.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",I[I.ABORTED=10]="ABORTED",I[I.OUT_OF_RANGE=11]="OUT_OF_RANGE",I[I.UNIMPLEMENTED=12]="UNIMPLEMENTED",I[I.INTERNAL=13]="INTERNAL",I[I.UNAVAILABLE=14]="UNAVAILABLE",I[I.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new gn([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co=1048576;function an(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,n,o=1e3,a=1.5,_=6e4){this.Mi=e,this.timerId=n,this.d_=o,this.A_=a,this.R_=_,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),o=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-o);a>0&&Y("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,n,o,a,_){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=a,this.removalCallback=_,this.deferred=new ne,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,o,a,_){const d=Date.now()+o,A=new dn(e,n,d,a,_);return A.start(o),A}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new D(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var Vr,jr;(jr=Vr||(Vr={})).Ma="default",jr.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oo(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo="firestore.googleapis.com",Br=!0;class Fr{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new D(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xo,this.ssl=Br}else this.host=e.host,this.ssl=e.ssl??Br;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Po;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Co)throw new D(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bo("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Oo(e.experimentalLongPollingOptions??{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new D(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new D(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new D(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(o,a){return o.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lo{constructor(e,n,o,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=o,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fr({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new D(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new D(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fr(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(o){if(!o)return new fo;switch(o.type){case"firstParty":return new mo(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new D(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const o=kr.get(n);o&&(Y("ComponentProvider","Removing Datastore"),kr.delete(n),o.terminate())})(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new mn(this.firestore,e,this._query)}}class it{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new it(this.firestore,e,this._key)}toJSON(){return{type:it._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,o){if(se(n,it._jsonSchema))return new it(e,o||null,new bt(K.fromString(n.referencePath)))}}it._jsonSchemaVersion="firestore/documentReference/1.0",it._jsonSchema={type:x("string",it._jsonSchemaVersion),referencePath:x("string")};class yn extends mn{constructor(e,n,o){super(e,n,Mo(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new it(this.firestore,null,new bt(e))}withConverter(e){return new yn(this.firestore,e,this._path)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur="AsyncQueue";class Hr{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Ro(this,"async_queue_retry"),this._c=()=>{const o=an();o&&Y(Ur,"Visibility state changed to "+o.visibilityState),this.M_.w_()},this.ac=e;const n=an();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=an();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ne;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Io(e))throw e;Y(Ur,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((o=>{throw this.nc=o,this.rc=!1,Zr("INTERNAL UNHANDLED ERROR: ",qr(o)),o})).then((o=>(this.rc=!1,o))))));return this.ac=n,n}enqueueAfterDelay(e,n,o){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=dn.createAndSchedule(this,e,n,o,(_=>this.hc(_)));return this.tc.push(a),a}uc(){this.nc&&Te(47125,{Pc:qr(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,o)=>n.targetTimeMs-o.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function qr(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Vo extends Lo{constructor(e,n,o,a){super(e,n,o,a),this.type="firestore",this._queue=new Hr,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Hr(e),this._firestoreClient=void 0,await e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e){this._byteString=e}static fromBase64String(e){try{return new st(Dt.fromBase64String(e))}catch(n){throw new D(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new st(Dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:st._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(se(e,st._jsonSchema))return st.fromBase64String(e.bytes)}}st._jsonSchemaVersion="firestore/bytes/1.0",st._jsonSchema={type:x("string",st._jsonSchemaVersion),bytes:x("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new D(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new St(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new D(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new D(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return mt(this._lat,e._lat)||mt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Tt._jsonSchemaVersion}}static fromJSON(e){if(se(e,Tt._jsonSchema))return new Tt(e.latitude,e.longitude)}}Tt._jsonSchemaVersion="firestore/geoPoint/1.0",Tt._jsonSchema={type:x("string",Tt._jsonSchemaVersion),latitude:x("number"),longitude:x("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(o,a){if(o.length!==a.length)return!1;for(let _=0;_<o.length;++_)if(o[_]!==a[_])return!1;return!0})(this._values,e._values)}toJSON(){return{type:It._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(se(e,It._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new It(e.vectorValues);throw new D(N.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}It._jsonSchemaVersion="firestore/vectorValue/1.0",It._jsonSchema={type:x("string",It._jsonSchemaVersion),vectorValues:x("object")};const jo=new RegExp("[~\\*/\\[\\]]");function ko(i,e,n){if(e.search(jo)>=0)throw $r(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i);try{return new ni(...e.split("."))._internalPath}catch{throw $r(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i)}}function $r(i,e,n,o,a){let _=`Function ${e}() called with invalid data`;_+=". ";let d="";return new D(N.INVALID_ARGUMENT,_+i+d)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e,n,o,a,_){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=a,this._converter=_}get id(){return this._key.path.lastSegment()}get ref(){return new it(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Bo(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ii("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Bo extends ri{data(){return super.data()}}function ii(i,e){return typeof e=="string"?ko(i,e):e instanceof ni?e._internalPath:e._delegate._internalPath}class we{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class jt extends ri{constructor(e,n,o,a,_,d){super(e,n,o,a,d),this._firestore=e,this._firestoreImpl=e,this.metadata=_}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ee(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(ii("DocumentSnapshot.get",e));if(o!==null)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new D(N.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=jt._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}jt._jsonSchemaVersion="firestore/documentSnapshot/1.0",jt._jsonSchema={type:x("string",jt._jsonSchemaVersion),bundleSource:x("string","DocumentSnapshot"),bundleName:x("string"),bundle:x("string")};class Ee extends jt{data(e={}){return super.data(e)}}class re{constructor(e,n,o,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new we(a.hasPendingWrites,a.fromCache),this.query=o}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((o=>{e.call(n,new Ee(this._firestore,this._userDataWriter,o.key,o,new we(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new D(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,_){if(a._snapshot.oldDocs.isEmpty()){let d=0;return a._snapshot.docChanges.map((A=>{const S=new Ee(a._firestore,a._userDataWriter,A.doc.key,A.doc,new we(a._snapshot.mutatedKeys.has(A.doc.key),a._snapshot.fromCache),a.query.converter);return A.doc,{type:"added",doc:S,oldIndex:-1,newIndex:d++}}))}{let d=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((A=>_||A.type!==3)).map((A=>{const S=new Ee(a._firestore,a._userDataWriter,A.doc.key,A.doc,new we(a._snapshot.mutatedKeys.has(A.doc.key),a._snapshot.fromCache),a.query.converter);let b=-1,k=-1;return A.type!==0&&(b=d.indexOf(A.doc.key),d=d.delete(A.doc.key)),A.type!==1&&(d=d.add(A.doc),k=d.indexOf(A.doc.key)),{type:Fo(A.type),doc:S,oldIndex:b,newIndex:k}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new D(N.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=re._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=vo.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],o=[],a=[];return this.docs.forEach((_=>{_._document!==null&&(n.push(_._document),o.push(this._userDataWriter.convertObjectMap(_._document.data.value.mapValue.fields,"previous")),a.push(_.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Fo(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:i})}}re._jsonSchemaVersion="firestore/querySnapshot/1.0",re._jsonSchema={type:x("string",re._jsonSchemaVersion),bundleSource:x("string","QuerySnapshot"),bundleName:x("string"),bundle:x("string")};(function(e,n=!0){(function(a){Ne=a})(Qs),Se(new Ae("firestore",((o,{instanceIdentifier:a,options:_})=>{const d=o.getProvider("app").getImmediate(),A=new Vo(new po(o.getProvider("auth-internal")),new yo(d,o.getProvider("app-check-internal")),(function(b,k){if(!Object.prototype.hasOwnProperty.apply(b.options,["projectId"]))throw new D(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ie(b.options.projectId,k)})(d,a),d);return _={useFetchStreams:n,..._},A._setSettings(_),A}),"PUBLIC").setMultipleInstances(!0)),Vt(Dr,Mr,e),Vt(Dr,Mr,"esm2020")})();export{Nt as a};
