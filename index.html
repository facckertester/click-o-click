<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Космический выживальщик</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="game-container">
        <header class="game-header">
            <h1><i class="fas fa-rocket"></i> Космический выживальщик</h1>
            <div class="game-stats">
                <div class="stat">
                    <span class="stat-label">Волна:</span>
                    <span id="wave" class="stat-value">1</span>
                </div>
                <div class="stat">
                    <span class="stat-label">Жизни:</span>
                    <span id="lives" class="stat-value">5</span>
                </div>
                <div class="stat">
                    <span class="stat-label">Деньги:</span>
                    <span id="money" class="stat-value">0</span>
                </div>
                <div class="stat">
                    <span class="stat-label">Уровень:</span>
                    <span id="level" class="stat-value">1</span>
                </div>
                <div class="stat">
                    <span class="stat-label">Игрок:</span>
                    <span id="playerLevel" class="stat-value">Ур. 1</span>
                </div>
                <div class="stat">
                    <span class="stat-label">Щит:</span>
                    <span id="shield" class="stat-value">0%</span>
                </div>
            </div>
        </header>
        
        <div class="game-content">
            <div class="game-area">
                <canvas id="gameCanvas"></canvas>
                
                <div class="controls-info">
                    <div class="control-item">
                        <i class="fas fa-arrow-up"></i><i class="fas fa-arrow-down"></i>
                        <i class="fas fa-arrow-left"></i><i class="fas fa-arrow-right"></i>
                        <span> - Движение</span>
                    </div>
                    <div class="control-item" id="shootModeDisplay">
                        <i class="fas fa-mouse-pointer"></i>
                        <span> - Автострельба</span>
                    </div>
                    <div class="control-item">
                        <span>Пробел - Пауза</span>
                    </div>
                    <div class="control-item">
                        <span>Shift - Активировать щит</span>
                    </div>
                    <div class="control-item">
                        <span>ПКМ - Ручной выстрел</span>
                    </div>
                </div>
                
                <!-- Полоска опыта игрока -->
                <div class="experience-bar-container">
                    <div class="experience-bar-label">
                        <span>Опыт:</span>
                        <span id="playerExpText">0/100</span>
                    </div>
                    <div class="experience-bar">
                        <div class="experience-bar-fill" id="playerExp"></div>
                    </div>
                </div>
                
                <!-- Уведомления о подборе улучшений -->
                <div class="notifications-container" id="notificationsContainer"></div>
            </div>
            
            <div class="upgrades-panel">
                <h2><i class="fas fa-cogs"></i> Улучшения</h2>
                <div class="upgrades-list">
                    <div class="upgrade" id="upgradeDamage">
                        <h3><i class="fas fa-bolt"></i> Урон</h3>
                        <p>Увеличивает урон от выстрелов</p>
                        <div class="upgrade-level">
                            <span>Уровень: <span class="level-value">1</span>/20</span>
                            <span class="upgrade-cost">Стоимость: 100</span>
                        </div>
                        <button class="upgrade-btn" onclick="buyUpgrade('damage')">Улучшить</button>
                    </div>
                    
                    <div class="upgrade" id="upgradeFireRate">
                        <h3><i class="fas fa-tachometer-alt"></i> Скорострельность</h3>
                        <p>Увеличивает скорость стрельбы</p>
                        <div class="upgrade-level">
                            <span>Уровень: <span class="level-value">1</span>/20</span>
                            <span class="upgrade-cost">Стоимость: 150</span>
                        </div>
                        <button class="upgrade-btn" onclick="buyUpgrade('fireRate')">Улучшить</button>
                    </div>
                    
                    <div class="upgrade" id="upgradeHealth">
                        <h3><i class="fas fa-heart"></i> Здоровье</h3>
                        <p>Увеличивает максимальное здоровье</p>
                        <div class="upgrade-level">
                            <span>Уровень: <span class="level-value">1</span>/20</span>
                            <span class="upgrade-cost">Стоимость: 200</span>
                        </div>
                        <button class="upgrade-btn" onclick="buyUpgrade('health')">Улучшить</button>
                    </div>
                    
                    <div class="upgrade" id="upgradeMovement">
                        <h3><i class="fas fa-running"></i> Скорость</h3>
                        <p>Увеличивает скорость движения</p>
                        <div class="upgrade-level">
                            <span>Уровень: <span class="level-value">1</span>/15</span>
                            <span class="upgrade-cost">Стоимость: 120</span>
                        </div>
                        <button class="upgrade-btn" onclick="buyUpgrade('movement')">Улучшить</button>
                    </div>
                    
                    <div class="upgrade" id="upgradeShield">
                        <h3><i class="fas fa-shield-alt"></i> Щит</h3>
                        <p>Увеличивает прочность щита</p>
                        <div class="upgrade-level">
                            <span>Уровень: <span class="level-value">0</span>/10</span>
                            <span class="upgrade-cost">Стоимость: 250</span>
                        </div>
                        <button class="upgrade-btn" onclick="buyUpgrade('shield')">Купить/Улучшить</button>
                    </div>
                    
                    <div class="upgrade" id="upgradeSplit">
                        <h3><i class="fas fa-code-branch"></i> Разделение</h3>
                        <p>Пули разделяются при попадании</p>
                        <div class="upgrade-level">
                            <span>Уровень: <span class="level-value">0</span>/3</span>
                            <span class="upgrade-cost">Стоимость: 400</span>
                        </div>
                        <button class="upgrade-btn" onclick="buyUpgrade('split')">Купить/Улучшить</button>
                    </div>
                    
                    <div class="upgrade" id="upgradeRicochet">
                        <h3><i class="fas fa-reply-all"></i> Рикошет</h3>
                        <p>Пули отскакивают от врагов</p>
                        <div class="upgrade-level">
                            <span>Уровень: <span class="level-value">0</span>/5</span>
                            <span class="upgrade-cost">Стоимость: 350</span>
                        </div>
                        <button class="upgrade-btn" onclick="buyUpgrade('ricochet')">Купить/Улучшить</button>
                    </div>
                    
                    <div class="upgrade" id="upgradePiercing">
                        <h3><i class="fas fa-arrow-right"></i> Пробивание</h3>
                        <p>Пули пробивают нескольких врагов</p>
                        <div class="upgrade-level">
                            <span>Уровень: <span class="level-value">0</span>/5</span>
                            <span class="upgrade-cost">Стоимость: 400</span>
                        </div>
                        <button class="upgrade-btn" onclick="buyUpgrade('piercing')">Купить/Улучшить</button>
                    </div>
                    
                    <!-- Новые улучшения -->
                    <div class="upgrade" id="upgradeLifeSteal">
                        <h3><i class="fas fa-tint"></i> Кража жизни</h3>
                        <p>Восстанавливает здоровье при убийстве</p>
                        <div class="upgrade-level">
                            <span>Уровень: <span class="level-value">0</span>/10</span>
                            <span class="upgrade-cost">Стоимость: 300</span>
                        </div>
                        <button class="upgrade-btn" onclick="buyUpgrade('lifeSteal')">Купить/Улучшить</button>
                    </div>
                    
                    <div class="upgrade" id="upgradeCriticalChance">
                        <h3><i class="fas fa-crosshairs"></i> Шанс крита</h3>
                        <p>Увеличивает шанс критического удара</p>
                        <div class="upgrade-level">
                            <span>Уровень: <span class="level-value">0</span>/10</span>
                            <span class="upgrade-cost">Стоимость: 400</span>
                        </div>
                        <button class="upgrade-btn" onclick="buyUpgrade('criticalChance')">Купить/Улучшить</button>
                    </div>
                    
                    <div class="upgrade" id="upgradeCriticalMultiplier">
                        <h3><i class="fas fa-bomb"></i> Сила крита</h3>
                        <p>Увеличивает силу критического удара</p>
                        <div class="upgrade-level">
                            <span>Уровень: <span class="level-value">0</span>/5</span>
                            <span class="upgrade-cost">Стоимость: 500</span>
                        </div>
                        <button class="upgrade-btn" onclick="buyUpgrade('criticalMultiplier')">Купить/Улучшить</button>
                    </div>
                    
                    <div class="upgrade" id="upgradeBulletSpeed">
                        <h3><i class="fas fa-bullseye"></i> Скорость пуль</h3>
                        <p>Увеличивает скорость полета пуль</p>
                        <div class="upgrade-level">
                            <span>Уровень: <span class="level-value">0</span>/10</span>
                            <span class="upgrade-cost">Стоимость: 200</span>
                        </div>
                        <button class="upgrade-btn" onclick="buyUpgrade('bulletSpeed')">Купить/Улучшить</button>
                    </div>
                    
                    <div class="upgrade" id="upgradeExperienceGain">
                        <h3><i class="fas fa-chart-line"></i> Прирост опыта</h3>
                        <p>Увеличивает получаемый опыт</p>
                        <div class="upgrade-level">
                            <span>Уровень: <span class="level-value">0</span>/5</span>
                            <span class="upgrade-cost">Стоимость: 600</span>
                        </div>
                        <button class="upgrade-btn" onclick="buyUpgrade('experienceGain')">Купить/Улучшить</button>
                    </div>
                </div>
                
                <div class="game-instructions">
                    <h3><i class="fas fa-info-circle"></i> Как играть</h3>
                    <p>Игра автоматически стреляет в ближайшего врага. Уклоняйтесь от врагов, используйте Shift для активации щита. Уничтожайте врагов для получения очков и опыта.</p>
                    <p><strong>Каждые 10 волн появляется БОСС!</strong></p>
                    <div class="enemy-types">
                        <h4><i class="fas fa-robot"></i> Типы врагов:</h4>
                        <div class="enemy-type">
                            <span class="enemy-color normal"></span>
                            <span>Обычный - медленный, средний урон</span>
                        </div>
                        <div class="enemy-type">
                            <span class="enemy-color fast"></span>
                            <span>Быстрый - быстро движется, слабый урон</span>
                        </div>
                        <div class="enemy-type">
                            <span class="enemy-color tank"></span>
                            <span>Танк - медленный, много здоровья, сильный урон</span>
                        </div>
                        <div class="enemy-type">
                            <span class="enemy-color shooter"></span>
                            <span>Стрелок - стреляет на расстоянии</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="game-footer">
            <div class="wave-info">
                <h3>Следующая волна через: <span id="waveTimer">10</span> сек. <button id="skipWaveBtn" class="skip-wave-btn" title="Начать следующую волну сразу" onclick="skipWaveTimer()">
                    <i class="fas fa-forward"></i>
                </button></h3>
                <div class="wave-progress">
                    <div class="wave-progress-bar" id="waveProgress"></div>
                </div>
            </div>
            <div class="game-controls">
                <button id="pauseBtn" onclick="togglePause()">
                    <i class="fas fa-pause"></i> Пауза
                </button>
                <button id="restartBtn" onclick="restartGame()">
                    <i class="fas fa-redo"></i> Начать заново
                </button>
                <button id="soundBtn" onclick="toggleSound()">
                    <i class="fas fa-volume-up"></i> Звук
                </button>
                <button id="fullscreenBtn" onclick="toggleFullscreen()">
                    <i class="fas fa-expand"></i> На весь экран
                </button>
            </div>
        
        <div class="game-overlay" id="gameOverlay">
            <div class="overlay-content">
                <h2 id="overlayTitle">Космический выживальщик</h2>
                <p id="overlayText">Игра автоматически стреляет в ближайшего врага. Уклоняйтесь от врагов, используйте Shift для активации щита. Уничтожайте врагов для получения очков и опыта. Каждые 10 волн появляется БОСС!</p>
                <button id="startBtn" onclick="startGame()">
                    <i class="fas fa-play"></i> Начать игру
                </button>
                <div class="high-score">
                    <h3>Рекорд: <span id="highScoreValue">0</span></h3>
                </div>
            </div>
        </div>
        
        <div class="weapon-selection-overlay" id="weaponSelectionOverlay">
            <div class="weapon-selection-content">
                <div id="weaponSelectionContainer"></div>
            </div>
        </div>
    </div>
    
    <script src="game.js"></script>
</body>
</html>